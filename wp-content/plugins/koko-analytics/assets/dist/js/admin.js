/*! For license information please see admin.js.LICENSE.txt */
(()=>{var t={6:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var o=n(81),r=n.n(o),a=n(645),i=n.n(a)()(r());i.push([t.id,'body.dashboard_page_koko-analytics{overflow-x:hidden}#koko-analytics-admin h1{padding:0;margin:0 0 12px}#koko-analytics-admin .grid{display:grid;grid-gap:12px;grid-template-columns:repeat(6, 1fr)}#koko-analytics-admin .one{grid-column:span 1}#koko-analytics-admin .two{grid-column:span 2}#koko-analytics-admin .three{grid-column:span 3}#koko-analytics-admin .four{grid-column:span 4}#koko-analytics-admin .five{grid-column:span 5}#koko-analytics-admin .six{grid-column:span 6}#koko-analytics-admin .box-grid{display:grid;grid-gap:12px;grid-template-columns:8fr 2fr 2fr;border-top:1px dashed #eee;padding:6px 12px;text-align:left}@media(max-width: 320px){#koko-analytics-admin .nav{grid-row:1;grid-column:span 6}}#koko-analytics-admin .subsubsub{display:block;float:right;line-height:20px;margin:0;padding:6px 0;font-size:13px;text-align:left}#koko-analytics-admin .box{background:#fff;border-radius:6px;border:1px solid #ddd;grid-column:span 3;margin-bottom:12px}@media(max-width: 800px){#koko-analytics-admin .box{grid-column:span 6}}#koko-analytics-admin .box .head{font-weight:bold;font-size:1.1em;padding:6px 12px;border:0}#koko-analytics-admin .box .body{padding-bottom:6px}#koko-analytics-admin .box .muted{width:24px;display:inline-block;color:#757575;font-size:.9em}#koko-analytics-admin .box .amount-col{text-align:right}#koko-analytics-admin .box .url-col{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}#koko-analytics-admin .input-group{margin-bottom:24px}#koko-analytics-admin .input-group label{margin-bottom:6px}#koko-analytics-admin .input-group input,#koko-analytics-admin .input-group select{margin-bottom:6px}#koko-analytics-admin .input-group input[type=radio],#koko-analytics-admin .input-group input[type=checkbox]{margin-bottom:0}#koko-analytics-admin .input-group .help{margin-top:0}#koko-analytics-admin label{display:block;font-size:1.2em;font-weight:bold;margin-bottom:6px}#koko-analytics-admin label.cb{font-size:1em;font-weight:normal}#koko-analytics-admin select{margin:0;min-width:320px}#koko-analytics-admin select[multiple]{min-height:160px}#koko-analytics-admin pre.code{display:block;border:1px solid #ccc;background:#fff;padding:1em}#koko-analytics-admin .pagination{color:#757575;cursor:pointer;display:inline-block;margin-left:12px}#koko-analytics-admin .pagination .prev,#koko-analytics-admin .pagination .next{display:inline-block;padding:0 4px}#koko-analytics-admin .pagination .prev:hover,#koko-analytics-admin .pagination .prev:focus,#koko-analytics-admin .pagination .next:hover,#koko-analytics-admin .pagination .next:focus{transform:scale(1.4);transition:transform .2s}#koko-analytics-admin .pagination .prev.hidden,#koko-analytics-admin .pagination .next.hidden{display:initial;visibility:hidden}#koko-analytics-admin .pagination .prev.disabled,#koko-analytics-admin .pagination .next.disabled{opacity:.4}#koko-analytics-admin .pagination .prev.disabled:hover,#koko-analytics-admin .pagination .prev.disabled:focus,#koko-analytics-admin .pagination .next.disabled:hover,#koko-analytics-admin .pagination .next.disabled:focus{transform:none;cursor:initial}@media(max-width: 320px){#koko-analytics-admin .pagination{margin-left:6px}#koko-analytics-admin .pagination .prev,#koko-analytics-admin .pagination .next{padding:0}}#koko-analytics-admin .margin-s{margin:24px 0}#koko-analytics-admin .margin-m{margin:48px 0}#koko-analytics-admin .margin-l{margin:72px 0}#koko-analytics-admin .koko-fade{animation:koko-fadein .4s}#koko-analytics-admin .left{float:left}#koko-analytics-admin .right{float:right}#koko-analytics-admin .flex{display:flex}#koko-analytics-admin .cf:after{content:"";display:table;clear:both}@keyframes koko-fadein{from{opacity:0}to{opacity:1}}',""]);const s=i},825:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var o=n(81),r=n.n(o),a=n(645),i=n.n(a)()(r());i.push([t.id,".chart-container{position:relative}.chart{overflow:visible}.chart-tooltip{position:absolute;z-index:9991}.chart-tooltip .heading{font-weight:600;padding:12px;line-height:1}.chart-tooltip .pageviews,.chart-tooltip .visitors{border-top:3px solid rgba(0,0,0,0)}.chart-tooltip .content{display:flex}.chart-tooltip .content>div{padding:6px 12px;width:50%;display:block;flex:1}.chart-tooltip .amount{color:#fff;font-weight:bold}.tooltip-inner{background:rgba(46,54,63,.96);box-shadow:2px 2px 12px 0 rgba(0,0,0,.5);border-radius:4px;color:#eee}.tooltip-arrow{width:0;height:0;margin-left:auto;margin-right:auto;border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid rgba(46,54,63,.96)}#koko-analytics-dashboard-widget-mount{text-align:center}",""]);const s=i},637:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var o=n(81),r=n.n(o),a=n(645),i=n.n(a)()(r());i.push([t.id,"#koko-analytics-admin .date-nav{position:relative;margin-bottom:12px}#koko-analytics-admin .date-label{cursor:pointer;padding:6px;border:1px solid #ddd;border-radius:6px;display:inline-block;background:#fff;line-height:20px}@media(max-width: 320px){#koko-analytics-admin .date-label .dashicons{display:none}}#koko-analytics-admin .date-label .dashicons{margin-right:2px}#koko-analytics-admin .date-picker-ui{background:#fff;width:auto;z-index:20;border-radius:6px;position:absolute;margin-top:6px;box-shadow:2px 2px 12px 0px rgba(0,0,0,.5)}#koko-analytics-admin .date-quicknav{background:#2e363f;border-top-left-radius:6px;border-top-right-radius:6px;color:#fff;text-align:center;padding:12px;font-weight:bold;font-size:1.1em}#koko-analytics-admin .date-quicknav .prev,#koko-analytics-admin .date-quicknav .next{margin:0 6px;color:#fff}#koko-analytics-admin .date-quicknav .prev:hover,#koko-analytics-admin .date-quicknav .prev:focus,#koko-analytics-admin .date-quicknav .next:hover,#koko-analytics-admin .date-quicknav .next:focus{cursor:pointer;transform:scale(1.4);transition:transform .2s}#koko-analytics-admin .date-presets{padding:12px 24px 12px 12px;border-right:1px solid #ddd;min-width:100px}#koko-analytics-admin .date-presets label{font-weight:bold;font-size:1em}#koko-analytics-admin .date-presets>div{margin-bottom:1em}#koko-analytics-admin .date-presets strong{display:block;padding:6px 0}#koko-analytics-admin .date-presets a{display:block;padding:4px 0}#koko-analytics-admin .date-picker{padding:12px}@media(min-width: 680px){#koko-analytics-admin .date-picker{min-width:480px}}#koko-analytics-admin .date-picker .pika-lendar{margin:0}#koko-analytics-admin .pika-single{color:inherit;border:0}#koko-analytics-admin .pika-label{font-size:inherit;font-weight:normal}#koko-analytics-admin .pika-prev,#koko-analytics-admin .pika-next{opacity:.3}",""]);const s=i},26:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var o=n(81),r=n.n(o),a=n(645),i=n.n(a)()(r());i.push([t.id,"#koko-analytics-admin .totals-container{background:#2e363f;color:#fff;padding:24px;margin-bottom:12px;display:flex;border-radius:6px}#koko-analytics-admin .totals-box{display:block;margin-right:48px}#koko-analytics-admin .totals-box:last-of-type{margin-right:0}@media(max-width: 320px){#koko-analytics-admin .totals-box{margin-right:36px}}#koko-analytics-admin .totals-label{color:#eee;margin-bottom:6px;font-size:14px}#koko-analytics-admin .totals-amount{display:block;line-height:48px;font-size:48px;font-weight:500;letter-spacing:-1px;margin-bottom:6px}#koko-analytics-admin .totals-amount span{font-size:.4em;font-weight:normal;vertical-align:top;letter-spacing:normal}#koko-analytics-admin .totals-compare{color:#eee}#koko-analytics-admin .neutral{color:#aaa}#koko-analytics-admin .up{color:#32cd32}#koko-analytics-admin .down{color:#fb7272}",""]);const s=i},745:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var o=n(81),r=n.n(o),a=n(645),i=n.n(a),s=n(667),l=n.n(s),u=new URL(n(168),n.b),c=new URL(n(333),n.b),f=i()(r()),d=l()(u),p=l()(c);f.push([t.id,`/*!\n * Pikaday\n * Copyright Â© 2014 David Bushell | BSD & MIT license | https://dbushell.com/\n */.pika-single{z-index:9999;display:block;position:relative;color:#333;background:#fff;border:1px solid #ccc;border-bottom-color:#bbb;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif}.pika-single:before,.pika-single:after{content:" ";display:table}.pika-single:after{clear:both}.pika-single.is-hidden{display:none}.pika-single.is-bound{position:absolute;box-shadow:0 5px 15px -5px rgba(0,0,0,.5)}.pika-lendar{float:left;width:240px;margin:8px}.pika-title{position:relative;text-align:center}.pika-label{display:inline-block;position:relative;z-index:9999;overflow:hidden;margin:0;padding:5px 3px;font-size:14px;line-height:20px;font-weight:bold;background-color:#fff}.pika-title select{cursor:pointer;position:absolute;z-index:9998;margin:0;left:0;top:5px;opacity:0}.pika-prev,.pika-next{display:block;cursor:pointer;position:relative;outline:none;border:0;padding:0;width:20px;height:30px;text-indent:20px;white-space:nowrap;overflow:hidden;background-color:rgba(0,0,0,0);background-position:center center;background-repeat:no-repeat;background-size:75% 75%;opacity:.5}.pika-prev:hover,.pika-next:hover{opacity:1}.pika-prev,.is-rtl .pika-next{float:left;background-image:url(${d})}.pika-next,.is-rtl .pika-prev{float:right;background-image:url(${p})}.pika-prev.is-disabled,.pika-next.is-disabled{cursor:default;opacity:.2}.pika-select{display:inline-block}.pika-table{width:100%;border-collapse:collapse;border-spacing:0;border:0}.pika-table th,.pika-table td{width:14.2857142857%;padding:0}.pika-table th{color:#999;font-size:12px;line-height:25px;font-weight:bold;text-align:center}.pika-button{cursor:pointer;display:block;box-sizing:border-box;-moz-box-sizing:border-box;outline:none;border:0;margin:0;width:100%;padding:5px;color:#666;font-size:12px;line-height:15px;text-align:right;background:#f5f5f5;height:initial}.pika-week{font-size:11px;color:#999}.is-today .pika-button{color:#3af;font-weight:bold}.is-selected .pika-button,.has-event .pika-button{color:#fff;font-weight:bold;background:#3af;box-shadow:inset 0 1px 3px #178fe5;border-radius:3px}.has-event .pika-button{background:#005da9;box-shadow:inset 0 1px 3px #0076c9}.is-disabled .pika-button,.is-inrange .pika-button{background:#d5e9f7}.is-startrange .pika-button{color:#fff;background:#6cb31d;box-shadow:none;border-radius:3px}.is-endrange .pika-button{color:#fff;background:#3af;box-shadow:none;border-radius:3px}.is-disabled .pika-button{pointer-events:none;cursor:default;color:#999;opacity:.3}.is-outside-current-month .pika-button{color:#999;opacity:.3}.is-selection-disabled{pointer-events:none;cursor:default}.pika-button:hover,.pika-row.pick-whole-week:hover .pika-button{color:#fff;background:#ff8000;box-shadow:none;border-radius:3px}.pika-table abbr{border-bottom:none;cursor:help}`,""]);const h=f},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,r,a){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(o)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);o&&i[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),e.push(c))}},e}},667:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},81:t=>{"use strict";t.exports=function(t){return t[1]}},319:function(t,e,n){!function(e,o){"use strict";var r;try{r=n(488)}catch(t){}t.exports=function(t){var e="function"==typeof t,n=!!window.addEventListener,o=window.document,r=window.setTimeout,a=function(t,e,o,r){n?t.addEventListener(e,o,!!r):t.attachEvent("on"+e,o)},i=function(t,e,o,r){n?t.removeEventListener(e,o,!!r):t.detachEvent("on"+e,o)},s=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},l=function(t,e){s(t,e)||(t.className=""===t.className?e:t.className+" "+e)},u=function(t,e){var n;t.className=(n=(" "+t.className+" ").replace(" "+e+" "," ")).trim?n.trim():n.replace(/^\s+|\s+$/g,"")},c=function(t){return/Array/.test(Object.prototype.toString.call(t))},f=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},d=function(t){var e=t.getDay();return 0===e||6===e},p=function(t){return t%4==0&&t%100!=0||t%400==0},h=function(t,e){return[31,p(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},y=function(t){f(t)&&t.setHours(0,0,0,0)},m=function(t,e){return t.getTime()===e.getTime()},v=function(t,e,n){var o,r;for(o in e)(r=void 0!==t[o])&&"object"==typeof e[o]&&null!==e[o]&&void 0===e[o].nodeName?f(e[o])?n&&(t[o]=new Date(e[o].getTime())):c(e[o])?n&&(t[o]=e[o].slice(0)):t[o]=v({},e[o],n):!n&&r||(t[o]=e[o]);return t},b=function(t,e,n){var r;o.createEvent?((r=o.createEvent("HTMLEvents")).initEvent(e,!0,!1),r=v(r,n),t.dispatchEvent(r)):o.createEventObject&&(r=o.createEventObject(),r=v(r,n),t.fireEvent("on"+e,r))},g=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},_={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},k=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},w=function(t){var e=[],n="false";if(t.isEmpty){if(!t.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';e.push("is-outside-current-month"),t.enableSelectionDaysInNextAndPreviousMonths||e.push("is-selection-disabled")}return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),n="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},D=function(n,o,r,a){var i=new Date(r,o,n);return'<td class="pika-week">'+(e?t(i).isoWeek():function(t,e){t.setHours(0,0,0,0);var n=t.getDate(),o=t.getDay(),r=e,a=r-1,i=function(t){return(t+7-1)%7};t.setDate(n+a-i(o));var s=new Date(t.getFullYear(),0,r),l=(t.getTime()-s.getTime())/864e5;return 1+Math.round((l-a+i(s.getDay()))/7)}(i,a))+"</td>"},x=function(t,e,n,o){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(o?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"},O=function(t,e,n,o,r,a){var i,s,l,u,f,d=t._o,p=n===d.minYear,h=n===d.maxYear,y='<div id="'+a+'" class="pika-title" role="heading" aria-live="assertive">',m=!0,v=!0;for(l=[],i=0;i<12;i++)l.push('<option value="'+(n===r?i-e:12+i-e)+'"'+(i===o?' selected="selected"':"")+(p&&i<d.minMonth||h&&i>d.maxMonth?' disabled="disabled"':"")+">"+d.i18n.months[i]+"</option>");for(u='<div class="pika-label">'+d.i18n.months[o]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",c(d.yearRange)?(i=d.yearRange[0],s=d.yearRange[1]+1):(i=n-d.yearRange,s=1+n+d.yearRange),l=[];i<s&&i<=d.maxYear;i++)i>=d.minYear&&l.push('<option value="'+i+'"'+(i===n?' selected="selected"':"")+">"+i+"</option>");return f='<div class="pika-label">'+n+d.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",d.showMonthAfterYear?y+=f+u:y+=u+f,p&&(0===o||d.minMonth>=o)&&(m=!1),h&&(11===o||d.maxMonth<=o)&&(v=!1),0===e&&(y+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+d.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(y+='<button class="pika-next'+(v?"":" is-disabled")+'" type="button">'+d.i18n.nextMonth+"</button>"),y+"</div>"},S=function(t,e,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+function(t){var e,n=[];for(t.showWeekNumber&&n.push("<th></th>"),e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+k(t,e)+'">'+k(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?n.reverse():n).join("")+"</tr></thead>"}(t)+("<tbody>"+e.join("")+"</tbody></table>")},P=function(i){var l=this,u=l.config(i);l._onMouseDown=function(t){if(l._v){var e=(t=t||window.event).target||t.srcElement;if(e)if(s(e,"is-disabled")||(!s(e,"pika-button")||s(e,"is-empty")||s(e.parentNode,"is-disabled")?s(e,"pika-prev")?l.prevMonth():s(e,"pika-next")&&l.nextMonth():(l.setDate(new Date(e.getAttribute("data-pika-year"),e.getAttribute("data-pika-month"),e.getAttribute("data-pika-day"))),u.bound&&r((function(){l.hide(),u.blurFieldOnSelect&&u.field&&u.field.blur()}),100))),s(e,"pika-select"))l._c=!0;else{if(!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}}},l._onChange=function(t){var e=(t=t||window.event).target||t.srcElement;e&&(s(e,"pika-select-month")?l.gotoMonth(e.value):s(e,"pika-select-year")&&l.gotoYear(e.value))},l._onKeyChange=function(t){if(t=t||window.event,l.isVisible())switch(t.keyCode){case 13:case 27:u.field&&u.field.blur();break;case 37:l.adjustDate("subtract",1);break;case 38:l.adjustDate("subtract",7);break;case 39:l.adjustDate("add",1);break;case 40:l.adjustDate("add",7);break;case 8:case 46:l.setDate(null)}},l._parseFieldValue=function(){if(u.parse)return u.parse(u.field.value,u.format);if(e){var n=t(u.field.value,u.format,u.formatStrict);return n&&n.isValid()?n.toDate():null}return new Date(Date.parse(u.field.value))},l._onInputChange=function(t){var e;t.firedBy!==l&&(e=l._parseFieldValue(),f(e)&&l.setDate(e),l._v||l.show())},l._onInputFocus=function(){l.show()},l._onInputClick=function(){l.show()},l._onInputBlur=function(){var t=o.activeElement;do{if(s(t,"pika-single"))return}while(t=t.parentNode);l._c||(l._b=r((function(){l.hide()}),50)),l._c=!1},l._onClick=function(t){var e=(t=t||window.event).target||t.srcElement,o=e;if(e){!n&&s(e,"pika-select")&&(e.onchange||(e.setAttribute("onchange","return;"),a(e,"change",l._onChange)));do{if(s(o,"pika-single")||o===u.trigger)return}while(o=o.parentNode);l._v&&e!==u.trigger&&o!==u.trigger&&l.hide()}},l.el=o.createElement("div"),l.el.className="pika-single"+(u.isRTL?" is-rtl":"")+(u.theme?" "+u.theme:""),a(l.el,"mousedown",l._onMouseDown,!0),a(l.el,"touchend",l._onMouseDown,!0),a(l.el,"change",l._onChange),u.keyboardInput&&a(o,"keydown",l._onKeyChange),u.field&&(u.container?u.container.appendChild(l.el):u.bound?o.body.appendChild(l.el):u.field.parentNode.insertBefore(l.el,u.field.nextSibling),a(u.field,"change",l._onInputChange),u.defaultDate||(u.defaultDate=l._parseFieldValue(),u.setDefaultDate=!0));var c=u.defaultDate;f(c)?u.setDefaultDate?l.setDate(c,!0):l.gotoDate(c):l.gotoDate(new Date),u.bound?(this.hide(),l.el.className+=" is-bound",a(u.trigger,"click",l._onInputClick),a(u.trigger,"focus",l._onInputFocus),a(u.trigger,"blur",l._onInputBlur)):this.show()};return P.prototype={config:function(t){this._o||(this._o=v({},_,!0));var e=v(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme="string"==typeof e.theme&&e.theme?e.theme:null,e.bound=!!(void 0!==e.bound?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn="function"==typeof e.disableDayFn?e.disableDayFn:null;var n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,f(e.minDate)||(e.minDate=!1),f(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&this.setMaxDate(e.maxDate),c(e.yearRange)){var o=(new Date).getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||o,e.yearRange[1]=parseInt(e.yearRange[1],10)||o}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||_.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(n){return n=n||this._o.format,f(this._d)?this._o.toString?this._o.toString(this._d,n):e?t(this._d).format(n):this._d.toDateString():""},getMoment:function(){return e?t(this._d):null},setMoment:function(n,o){e&&t.isMoment(n)&&this.setDate(n.toDate(),o)},getDate:function(){return f(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",b(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),f(t)){var n=this._o.minDate,o=this._o.maxDate;f(n)&&t<n?t=n:f(o)&&t>o&&(t=o),this._d=new Date(t.getTime()),y(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),b(this._o.field,"change",{firedBy:this})),e||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},clear:function(){this.setDate(null)},gotoDate:function(t){var e=!0;if(f(t)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),o=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),r=t.getTime();o.setMonth(o.getMonth()+1),o.setDate(o.getDate()-1),e=r<n.getTime()||o.getTime()<r}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(t,e){var n,o=this.getDate()||new Date,r=24*parseInt(e)*60*60*1e3;"add"===t?n=new Date(o.valueOf()+r):"subtract"===t&&(n=new Date(o.valueOf()-r)),this.setDate(n)},adjustCalendars:function(){this.calendars[0]=g(this.calendars[0]);for(var t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=g({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){t instanceof Date?(y(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth()):(this._o.minDate=_.minDate,this._o.minYear=_.minYear,this._o.minMonth=_.minMonth,this._o.startRange=_.startRange),this.draw()},setMaxDate:function(t){t instanceof Date?(y(t),this._o.maxDate=t,this._o.maxYear=t.getFullYear(),this._o.maxMonth=t.getMonth()):(this._o.maxDate=_.maxDate,this._o.maxYear=_.maxYear,this._o.maxMonth=_.maxMonth,this._o.endRange=_.endRange),this.draw()},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(this._v||t){var e,n=this._o,o=n.minYear,a=n.maxYear,i=n.minMonth,s=n.maxMonth,l="";this._y<=o&&(this._y=o,!isNaN(i)&&this._m<i&&(this._m=i)),this._y>=a&&(this._y=a,!isNaN(s)&&this._m>s&&(this._m=s));for(var u=0;u<n.numberOfMonths;u++)e="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),l+='<div class="pika-lendar">'+O(this,u,this.calendars[u].year,this.calendars[u].month,this.calendars[0].year,e)+this.render(this.calendars[u].year,this.calendars[u].month,e)+"</div>";this.el.innerHTML=l,n.bound&&"hidden"!==n.field.type&&r((function(){n.trigger.focus()}),1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),n.bound&&n.field.setAttribute("aria-label",n.ariaLabel)}},adjustPosition:function(){var t,e,n,r,a,i,s,c,f,d,p,h;if(!this._o.container){if(this.el.style.position="absolute",e=t=this._o.trigger,n=this.el.offsetWidth,r=this.el.offsetHeight,a=window.innerWidth||o.documentElement.clientWidth,i=window.innerHeight||o.documentElement.clientHeight,s=window.pageYOffset||o.body.scrollTop||o.documentElement.scrollTop,p=!0,h=!0,"function"==typeof t.getBoundingClientRect)c=(d=t.getBoundingClientRect()).left+window.pageXOffset,f=d.bottom+window.pageYOffset;else for(c=e.offsetLeft,f=e.offsetTop+e.offsetHeight;e=e.offsetParent;)c+=e.offsetLeft,f+=e.offsetTop;(this._o.reposition&&c+n>a||this._o.position.indexOf("right")>-1&&c-n+t.offsetWidth>0)&&(c=c-n+t.offsetWidth,p=!1),(this._o.reposition&&f+r>i+s||this._o.position.indexOf("top")>-1&&f-r-t.offsetHeight>0)&&(f=f-r-t.offsetHeight,h=!1),this.el.style.left=c+"px",this.el.style.top=f+"px",l(this.el,p?"left-aligned":"right-aligned"),l(this.el,h?"bottom-aligned":"top-aligned"),u(this.el,p?"right-aligned":"left-aligned"),u(this.el,h?"top-aligned":"bottom-aligned")}},render:function(t,e,n){var o=this._o,r=new Date,a=h(t,e),i=new Date(t,e,1).getDay(),s=[],l=[];y(r),o.firstDay>0&&(i-=o.firstDay)<0&&(i+=7);for(var u=0===e?11:e-1,c=11===e?0:e+1,p=0===e?t-1:t,v=11===e?t+1:t,b=h(p,u),g=a+i,_=g;_>7;)_-=7;g+=7-_;for(var k=!1,O=0,P=0;O<g;O++){var j=new Date(t,e,O-i+1),T=!!f(this._d)&&m(j,this._d),R=m(j,r),M=-1!==o.events.indexOf(j.toDateString()),C=O<i||O>=a+i,N=O-i+1,E=e,A=t,I=o.startRange&&m(o.startRange,j),U=o.endRange&&m(o.endRange,j),F=o.startRange&&o.endRange&&o.startRange<j&&j<o.endRange;C&&(O<i?(N=b+N,E=u,A=p):(N-=a,E=c,A=v));var L={day:N,month:E,year:A,hasEvent:M,isSelected:T,isToday:R,isDisabled:o.minDate&&j<o.minDate||o.maxDate&&j>o.maxDate||o.disableWeekends&&d(j)||o.disableDayFn&&o.disableDayFn(j),isEmpty:C,isStartRange:I,isEndRange:U,isInRange:F,showDaysInNextAndPreviousMonths:o.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:o.enableSelectionDaysInNextAndPreviousMonths};o.pickWholeWeek&&T&&(k=!0),l.push(w(L)),7==++P&&(o.showWeekNumber&&l.unshift(D(O-i,e,t,o.firstWeekOfYearMinDays)),s.push(x(l,o.isRTL,o.pickWholeWeek,k)),l=[],P=0,k=!1)}return S(o,s,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),u(this.el,"is-hidden"),this._o.bound&&(a(o,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var t=this._v;!1!==t&&(this._o.bound&&i(o,"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),l(this.el,"is-hidden"),this._v=!1,void 0!==t&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var t=this._o;this.hide(),i(this.el,"mousedown",this._onMouseDown,!0),i(this.el,"touchend",this._onMouseDown,!0),i(this.el,"change",this._onChange),t.keyboardInput&&i(o,"keydown",this._onKeyChange),t.field&&(i(t.field,"change",this._onInputChange),t.bound&&(i(t.trigger,"click",this._onInputClick),i(t.trigger,"focus",this._onInputFocus),i(t.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},P}(r)}()},42:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Link:()=>x,Route:()=>O,Router:()=>D,default:()=>S,exec:()=>i,getCurrentUrl:()=>y,route:()=>m,subscribers:()=>p});var o=n(400),r={};function a(t,e){for(var n in e)t[n]=e[n];return t}function i(t,e,n){var o,a=/(?:\?([^#]*))?(#.*)?$/,i=t.match(a),s={};if(i&&i[1])for(var l=i[1].split("&"),c=0;c<l.length;c++){var f=l[c].split("=");s[decodeURIComponent(f[0])]=decodeURIComponent(f.slice(1).join("="))}t=u(t.replace(a,"")),e=u(e||"");for(var d=Math.max(t.length,e.length),p=0;p<d;p++)if(e[p]&&":"===e[p].charAt(0)){var h=e[p].replace(/(^:|[+*?]+$)/g,""),y=(e[p].match(/[+*?]+$/)||r)[0]||"",m=~y.indexOf("+"),v=~y.indexOf("*"),b=t[p]||"";if(!b&&!v&&(y.indexOf("?")<0||m)){o=!1;break}if(s[h]=decodeURIComponent(b),m||v){s[h]=t.slice(p).map(decodeURIComponent).join("/");break}}else if(e[p]!==t[p]){o=!1;break}return(!0===n.default||!1!==o)&&s}function s(t,e){return t.rank<e.rank?1:t.rank>e.rank?-1:t.index-e.index}function l(t,e){return t.index=e,t.rank=function(t){return t.props.default?0:u(t.props.path).map(c).join("")}(t),t.props}function u(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function c(t){return":"==t.charAt(0)?1+"*+?".indexOf(t.charAt(t.length-1))||4:5}var f=null,d=[],p=[],h={};function y(){var t;return""+((t=f&&f.location?f.location:f&&f.getCurrentLocation?f.getCurrentLocation():"undefined"!=typeof location?location:h).pathname||"")+(t.search||"")}function m(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&t.url&&(e=t.replace,t=t.url),function(t){for(var e=d.length;e--;)if(d[e].canRoute(t))return!0;return!1}(t)&&function(t,e){void 0===e&&(e="push"),f&&f[e]?f[e](t):"undefined"!=typeof history&&history[e+"State"]&&history[e+"State"](null,null,t)}(t,e?"replace":"push"),v(t)}function v(t){for(var e=!1,n=0;n<d.length;n++)!0===d[n].routeTo(t)&&(e=!0);for(var o=p.length;o--;)p[o](t);return e}function b(t){if(t&&t.getAttribute){var e=t.getAttribute("href"),n=t.getAttribute("target");if(e&&e.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return m(e)}}function g(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button))return b(t.currentTarget||t.target||this),_(t)}function _(t){return t&&(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault()),!1}function k(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button)){var e=t.target;do{if("A"===String(e.nodeName).toUpperCase()&&e.getAttribute("href")){if(e.hasAttribute("native"))return;if(b(e))return _(t)}}while(e=e.parentNode)}}var w=!1,D=function(t){function e(e){t.call(this,e),e.history&&(f=e.history),this.state={url:e.url||y()},w||("function"==typeof addEventListener&&(f||addEventListener("popstate",(function(){v(y())})),addEventListener("click",k)),w=!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.shouldComponentUpdate=function(t){return!0!==t.static||t.url!==this.props.url||t.onChange!==this.props.onChange},e.prototype.canRoute=function(t){var e=(0,o.toChildArray)(this.props.children);return this.getMatchingChildren(e,t,!1).length>0},e.prototype.routeTo=function(t){this.setState({url:t});var e=this.canRoute(t);return this.updating||this.forceUpdate(),e},e.prototype.componentWillMount=function(){d.push(this),this.updating=!0},e.prototype.componentDidMount=function(){var t=this;f&&(this.unlisten=f.listen((function(e){t.routeTo(""+(e.pathname||"")+(e.search||""))}))),this.updating=!1},e.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),d.splice(d.indexOf(this),1)},e.prototype.componentWillUpdate=function(){this.updating=!0},e.prototype.componentDidUpdate=function(){this.updating=!1},e.prototype.getMatchingChildren=function(t,e,n){return t.filter(l).sort(s).map((function(t){var r=i(e,t.props.path,t.props);if(r){if(!1!==n){var s={url:e,matches:r};return a(s,r),delete s.ref,delete s.key,(0,o.cloneElement)(t,s)}return t}})).filter(Boolean)},e.prototype.render=function(t,e){var n=t.children,r=t.onChange,a=e.url,i=this.getMatchingChildren((0,o.toChildArray)(n),a,!0),s=i[0]||null,l=this.previousUrl;return a!==l&&(this.previousUrl=a,"function"==typeof r&&r({router:this,url:a,previous:l,active:i,current:s})),s},e}(o.Component),x=function(t){return(0,o.createElement)("a",a({onClick:g},t))},O=function(t){return(0,o.createElement)(t.component,t)};D.subscribers=p,D.getCurrentUrl=y,D.route=m,D.Router=D,D.Route=O,D.Link=x,D.exec=i;const S=D},232:(t,e,n)=>{"use strict";e.rU=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},r=n(400),a=n(42);function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(){var n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=o=i(this,t.call.apply(t,[this].concat(a))),o.update=function(t){o.nextUrl=t,o.setState({})},i(o,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){a.subscribers.push(this.update)},e.prototype.componentWillUnmount=function(){a.subscribers.splice(a.subscribers.indexOf(this.update)>>>0,1)},e.prototype.render=function(t){var e=this.nextUrl||(0,a.getCurrentUrl)(),n=e.replace(/\?.+$/,"");return this.nextUrl=null,t.children({url:e,path:n,matches:!1!==(0,a.exec)(n,t.path,{})})},e}(r.Component),l=function(t){var e=t.activeClassName,n=t.path,i=function(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}(t,["activeClassName","path"]);return(0,r.h)(s,{path:n||i.href},(function(t){var n=t.matches;return(0,r.h)(a.Link,o({},i,{class:[i.class||i.className,n&&e].filter(Boolean).join(" ")}))}))};e.rU=l,s.Link=l},400:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Component:()=>w,Fragment:()=>k,cloneElement:()=>q,createContext:()=>z,createElement:()=>b,createRef:()=>_,h:()=>b,hydrate:()=>H,isValidElement:()=>i,options:()=>r,render:()=>W,toChildArray:()=>T});var o,r,a,i,s,l,u,c,f,d={},p=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y=Array.isArray;function m(t,e){for(var n in e)t[n]=e[n];return t}function v(t){var e=t.parentNode;e&&e.removeChild(t)}function b(t,e,n){var r,a,i,s={};for(i in e)"key"==i?r=e[i]:"ref"==i?a=e[i]:s[i]=e[i];if(arguments.length>2&&(s.children=arguments.length>3?o.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(i in t.defaultProps)void 0===s[i]&&(s[i]=t.defaultProps[i]);return g(t,s,r,a,null)}function g(t,e,n,o,i){var s={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++a:i};return null==i&&null!=r.vnode&&r.vnode(s),s}function _(){return{current:null}}function k(t){return t.children}function w(t,e){this.props=t,this.context=e}function D(t,e){if(null==e)return t.__?D(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?D(t):null}function x(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return x(t)}}function O(t){(!t.__d&&(t.__d=!0)&&s.push(t)&&!S.__r++||l!==r.debounceRendering)&&((l=r.debounceRendering)||u)(S)}function S(){var t,e,n,o,r,a,i,l,u;for(s.sort(c);t=s.shift();)t.__d&&(e=s.length,o=void 0,r=void 0,a=void 0,l=(i=(n=t).__v).__e,(u=n.__P)&&(o=[],r=[],(a=m({},i)).__v=i.__v+1,I(u,i,a,n.__n,void 0!==u.ownerSVGElement,null!=i.__h?[l]:null,o,null==l?D(i):l,i.__h,r),U(o,i,r),i.__e!=l&&x(i)),s.length>e&&s.sort(c));S.__r=0}function P(t,e,n,o,r,a,i,s,l,u,c){var f,h,m,v,b,_,w,x,O,S=0,P=o&&o.__k||p,T=P.length,C=T,N=e.length;for(n.__k=[],f=0;f<N;f++)null!=(v=n.__k[f]=null==(v=e[f])||"boolean"==typeof v||"function"==typeof v?null:"string"==typeof v||"number"==typeof v||"bigint"==typeof v?g(null,v,null,null,v):y(v)?g(k,{children:v},null,null,null):v.__b>0?g(v.type,v.props,v.key,v.ref?v.ref:null,v.__v):v)?(v.__=n,v.__b=n.__b+1,-1===(x=M(v,P,w=f+S,C))?m=d:(m=P[x]||d,P[x]=void 0,C--),I(t,v,m,r,a,i,s,l,u,c),b=v.__e,(h=v.ref)&&m.ref!=h&&(m.ref&&L(m.ref,null,v),c.push(h,v.__c||b,v)),null!=b&&(null==_&&(_=b),(O=m===d||null===m.__v)?-1==x&&S--:x!==w&&(x===w+1?S++:x>w?C>N-w?S+=x-w:S--:S=x<w&&x==w-1?x-w:0),w=f+S,"function"!=typeof v.type||x===w&&m.__k!==v.__k?"function"==typeof v.type||x===w&&!O?void 0!==v.__d?(l=v.__d,v.__d=void 0):l=b.nextSibling:l=R(t,b,l):l=j(v,l,t),"function"==typeof n.type&&(n.__d=l))):(m=P[f])&&null==m.key&&m.__e&&(m.__e==l&&(l=D(m)),Y(m,m,!1),P[f]=null);for(n.__e=_,f=T;f--;)null!=P[f]&&("function"==typeof n.type&&null!=P[f].__e&&P[f].__e==n.__d&&(n.__d=P[f].__e.nextSibling),Y(P[f],P[f]))}function j(t,e,n){for(var o,r=t.__k,a=0;r&&a<r.length;a++)(o=r[a])&&(o.__=t,e="function"==typeof o.type?j(o,e,n):R(n,o.__e,e));return e}function T(t,e){return e=e||[],null==t||"boolean"==typeof t||(y(t)?t.some((function(t){T(t,e)})):e.push(t)),e}function R(t,e,n){return null==n||n.parentNode!==t?t.insertBefore(e,null):e==n&&null!=e.parentNode||t.insertBefore(e,n),e.nextSibling}function M(t,e,n,o){var r=t.key,a=t.type,i=n-1,s=n+1,l=e[n];if(null===l||l&&r==l.key&&a===l.type)return n;if(o>(null!=l?1:0))for(;i>=0||s<e.length;){if(i>=0){if((l=e[i])&&r==l.key&&a===l.type)return i;i--}if(s<e.length){if((l=e[s])&&r==l.key&&a===l.type)return s;s++}}return-1}function C(t,e,n){"-"===e[0]?t.setProperty(e,null==n?"":n):t[e]=null==n?"":"number"!=typeof n||h.test(e)?n:n+"px"}function N(t,e,n,o,r){var a;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof o&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||C(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||C(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])a=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=n,n?o||t.addEventListener(e,a?A:E,a):t.removeEventListener(e,a?A:E,a);else if("dangerouslySetInnerHTML"!==e){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==e&&"height"!==e&&"href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&"rowSpan"!==e&&"colSpan"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null==n||!1===n&&"-"!==e[4]?t.removeAttribute(e):t.setAttribute(e,n))}}function E(t){return this.l[t.type+!1](r.event?r.event(t):t)}function A(t){return this.l[t.type+!0](r.event?r.event(t):t)}function I(t,e,n,o,a,i,s,l,u,c){var f,d,p,h,v,b,g,_,D,x,O,S,j,T,R,M=e.type;if(void 0!==e.constructor)return null;null!=n.__h&&(u=n.__h,l=e.__e=n.__e,e.__h=null,i=[l]),(f=r.__b)&&f(e);t:if("function"==typeof M)try{if(_=e.props,D=(f=M.contextType)&&o[f.__c],x=f?D?D.props.value:f.__:o,n.__c?g=(d=e.__c=n.__c).__=d.__E:("prototype"in M&&M.prototype.render?e.__c=d=new M(_,x):(e.__c=d=new w(_,x),d.constructor=M,d.render=B),D&&D.sub(d),d.props=_,d.state||(d.state={}),d.context=x,d.__n=o,p=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=M.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=m({},d.__s)),m(d.__s,M.getDerivedStateFromProps(_,d.__s))),h=d.props,v=d.state,d.__v=e,p)null==M.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==M.getDerivedStateFromProps&&_!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(_,x),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(_,d.__s,x)||e.__v===n.__v)){for(e.__v!==n.__v&&(d.props=_,d.state=d.__s,d.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),O=0;O<d._sb.length;O++)d.__h.push(d._sb[O]);d._sb=[],d.__h.length&&s.push(d);break t}null!=d.componentWillUpdate&&d.componentWillUpdate(_,d.__s,x),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(h,v,b)}))}if(d.context=x,d.props=_,d.__P=t,d.__e=!1,S=r.__r,j=0,"prototype"in M&&M.prototype.render){for(d.state=d.__s,d.__d=!1,S&&S(e),f=d.render(d.props,d.state,d.context),T=0;T<d._sb.length;T++)d.__h.push(d._sb[T]);d._sb=[]}else do{d.__d=!1,S&&S(e),f=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++j<25);d.state=d.__s,null!=d.getChildContext&&(o=m(m({},o),d.getChildContext())),p||null==d.getSnapshotBeforeUpdate||(b=d.getSnapshotBeforeUpdate(h,v)),P(t,y(R=null!=f&&f.type===k&&null==f.key?f.props.children:f)?R:[R],e,n,o,a,i,s,l,u,c),d.base=e.__e,e.__h=null,d.__h.length&&s.push(d),g&&(d.__E=d.__=null)}catch(t){e.__v=null,(u||null!=i)&&(e.__e=l,e.__h=!!u,i[i.indexOf(l)]=null),r.__e(t,e,n)}else null==i&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=F(n.__e,e,n,o,a,i,s,u,c);(f=r.diffed)&&f(e)}function U(t,e,n){for(var o=0;o<n.length;o++)L(n[o],n[++o],n[++o]);r.__c&&r.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){r.__e(t,e.__v)}}))}function F(t,e,n,r,a,i,s,l,u){var c,f,p,h=n.props,m=e.props,b=e.type,g=0;if("svg"===b&&(a=!0),null!=i)for(;g<i.length;g++)if((c=i[g])&&"setAttribute"in c==!!b&&(b?c.localName===b:3===c.nodeType)){t=c,i[g]=null;break}if(null==t){if(null===b)return document.createTextNode(m);t=a?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,m.is&&m),i=null,l=!1}if(null===b)h===m||l&&t.data===m||(t.data=m);else{if(i=i&&o.call(t.childNodes),f=(h=n.props||d).dangerouslySetInnerHTML,p=m.dangerouslySetInnerHTML,!l){if(null!=i)for(h={},g=0;g<t.attributes.length;g++)h[t.attributes[g].name]=t.attributes[g].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===t.innerHTML)||(t.innerHTML=p&&p.__html||""))}if(function(t,e,n,o,r){var a;for(a in n)"children"===a||"key"===a||a in e||N(t,a,null,n[a],o);for(a in e)r&&"function"!=typeof e[a]||"children"===a||"key"===a||"value"===a||"checked"===a||n[a]===e[a]||N(t,a,e[a],n[a],o)}(t,m,h,a,l),p)e.__k=[];else if(P(t,y(g=e.props.children)?g:[g],e,n,r,a&&"foreignObject"!==b,i,s,i?i[0]:n.__k&&D(n,0),l,u),null!=i)for(g=i.length;g--;)null!=i[g]&&v(i[g]);l||("value"in m&&void 0!==(g=m.value)&&(g!==t.value||"progress"===b&&!g||"option"===b&&g!==h.value)&&N(t,"value",g,h.value,!1),"checked"in m&&void 0!==(g=m.checked)&&g!==t.checked&&N(t,"checked",g,h.checked,!1))}return t}function L(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){r.__e(t,n)}}function Y(t,e,n){var o,a;if(r.unmount&&r.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||L(o,null,e)),null!=(o=t.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(t){r.__e(t,e)}o.base=o.__P=null,t.__c=void 0}if(o=t.__k)for(a=0;a<o.length;a++)o[a]&&Y(o[a],e,n||"function"!=typeof t.type);n||null==t.__e||v(t.__e),t.__=t.__e=t.__d=void 0}function B(t,e,n){return this.constructor(t,n)}function W(t,e,n){var a,i,s,l;r.__&&r.__(t,e),i=(a="function"==typeof n)?null:n&&n.__k||e.__k,s=[],l=[],I(e,t=(!a&&n||e).__k=b(k,null,[t]),i||d,d,void 0!==e.ownerSVGElement,!a&&n?[n]:i?null:e.firstChild?o.call(e.childNodes):null,s,!a&&n?n:i?i.__e:e.firstChild,a,l),U(s,t,l)}function H(t,e){W(t,e,H)}function q(t,e,n){var r,a,i,s,l=m({},t.props);for(i in t.type&&t.type.defaultProps&&(s=t.type.defaultProps),e)"key"==i?r=e[i]:"ref"==i?a=e[i]:l[i]=void 0===e[i]&&void 0!==s?s[i]:e[i];return arguments.length>2&&(l.children=arguments.length>3?o.call(arguments,2):n),g(t.type,l,r||t.key,a||t.ref,null)}function z(t,e){var n={__c:e="__cC"+f++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,o;return this.getChildContext||(n=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some((function(t){t.__e=!0,O(t)}))},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Provider.__=n.Consumer.contextType=n}o=p.slice,r={__e:function(t,e,n,o){for(var r,a,i;e=e.__;)if((r=e.__c)&&!r.__)try{if((a=r.constructor)&&null!=a.getDerivedStateFromError&&(r.setState(a.getDerivedStateFromError(t)),i=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(t,o||{}),i=r.__d),i)return r.__E=r}catch(e){t=e}throw t}},a=0,i=function(t){return null!=t&&void 0===t.constructor},w.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=m({},this.state),"function"==typeof t&&(t=t(m({},n),this.props)),t&&m(n,t),null!=t&&this.__v&&(e&&this._sb.push(e),O(this))},w.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),O(this))},w.prototype.render=k,s=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=function(t,e){return t.__v.__b-e.__v.__b},S.__r=0,f=0},703:(t,e,n)=>{"use strict";var o=n(414);function r(){}function a(){}a.resetWarningCache=r,t.exports=function(){function t(t,e,n,r,a,i){if(i!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},697:(t,e,n)=>{t.exports=n(703)()},414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},379:t=>{"use strict";var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var a={},i=[],s=0;s<t.length;s++){var l=t[s],u=o.base?l[0]+o.base:l[0],c=a[u]||0,f="".concat(u," ").concat(c);a[u]=c+1;var d=n(f),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var h=r(p,o);o.byIndex=s,e.splice(s,0,{identifier:f,updater:h,references:1})}i.push(f)}return i}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var a=o(t=t||[],r=r||{});return function(t){t=t||[];for(var i=0;i<a.length;i++){var s=n(a[i]);e[s].references--}for(var l=o(t,r),u=0;u<a.length;u++){var c=n(a[u]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}a=l}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},333:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAU0lEQVR42u3VOwoAMAgE0dwfAnNjU26bYkBCFGwfiL9VVWoO+BJ4Gf3gtsEKKoFBNTCoCAYVwaAiGNQGMUHMkjGbgjk2mIONuXo0nC8XnCf1JXgArVIZAQh5TKYAAAAASUVORK5CYII="},168:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAUklEQVR42u3VMQoAIBADQf8Pgj+OD9hG2CtONJB2ymQkKe0HbwAP0xucDiQWARITIDEBEnMgMQ8S8+AqBIl6kKgHiXqQqAeJepBo/z38J/U0uAHlaBkBl9I4GwAAAABJRU5ErkJggg=="},488:t=>{"use strict";if("undefined"==typeof moment){var e=new Error("Cannot find module 'moment'");throw e.code="MODULE_NOT_FOUND",e}t.exports=moment}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={id:o,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";var t=n(379),e=n.n(t),o=n(795),r=n.n(o),a=n(569),i=n.n(a),s=n(565),l=n.n(s),u=n(216),c=n.n(u),f=n(589),d=n.n(f),p=n(6),h={};h.styleTagTransform=d(),h.setAttributes=l(),h.insert=i().bind(null,"head"),h.domAPI=r(),h.insertStyleElement=c(),e()(p.Z,h),p.Z&&p.Z.locals&&p.Z.locals;var y=n(400),m=n(42),v=n(697),b=n.n(v);const g=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))},_=function(t){return new this((function(e,n){if(!t||void 0===t.length)return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);var r=o.length;function a(t,n){if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if("function"==typeof i)return void i.call(n,(function(e){a(t,e)}),(function(n){o[t]={status:"rejected",reason:n},0==--r&&e(o)}))}o[t]={status:"fulfilled",value:n},0==--r&&e(o)}for(var i=0;i<o.length;i++)a(i,o[i])}))};function k(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}k.prototype=Error.prototype;const w=function(t){var e=this;return new e((function(n,o){if(!t||void 0===t.length)return o(new TypeError("Promise.any accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return o();for(var a=[],i=0;i<r.length;i++)try{e.resolve(r[i]).then(n).catch((function(t){a.push(t),a.length===r.length&&o(new k(a,"All promises were rejected"))}))}catch(t){o(t)}}))};var D=setTimeout;function x(t){return Boolean(t&&void 0!==t.length)}function O(){}function S(t){if(!(this instanceof S))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],C(t,this)}function P(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,S._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var o;try{o=n(t._value)}catch(t){return void T(e.promise,t)}j(e.promise,o)}else(1===t._state?j:T)(e.promise,t._value)}))):t._deferreds.push(e)}function j(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof S)return t._state=3,t._value=e,void R(t);if("function"==typeof n)return void C((o=n,r=e,function(){o.apply(r,arguments)}),t)}t._state=1,t._value=e,R(t)}catch(e){T(t,e)}var o,r}function T(t,e){t._state=2,t._value=e,R(t)}function R(t){2===t._state&&0===t._deferreds.length&&S._immediateFn((function(){t._handled||S._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)P(t,t._deferreds[e]);t._deferreds=null}function M(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function C(t,e){var n=!1;try{t((function(t){n||(n=!0,j(e,t))}),(function(t){n||(n=!0,T(e,t))}))}catch(t){if(n)return;n=!0,T(e,t)}}S.prototype.catch=function(t){return this.then(null,t)},S.prototype.then=function(t,e){var n=new this.constructor(O);return P(this,new M(t,e,n)),n},S.prototype.finally=g,S.all=function(t){return new S((function(e,n){if(!x(t))return n(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);var r=o.length;function a(t,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(e){a(t,e)}),n)}o[t]=i,0==--r&&e(o)}catch(t){n(t)}}for(var i=0;i<o.length;i++)a(i,o[i])}))},S.any=w,S.allSettled=_,S.resolve=function(t){return t&&"object"==typeof t&&t.constructor===S?t:new S((function(e){e(t)}))},S.reject=function(t){return new S((function(e,n){n(t)}))},S.race=function(t){return new S((function(e,n){if(!x(t))return n(new TypeError("Promise.race accepts an array"));for(var o=0,r=t.length;o<r;o++)S.resolve(t[o]).then(e,n)}))},S._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){D(t,0)},S._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};const N=S;var E=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("unable to locate global object")}();"function"!=typeof E.Promise?E.Promise=N:(E.Promise.prototype.finally||(E.Promise.prototype.finally=g),E.Promise.allSettled||(E.Promise.allSettled=_),E.Promise.any||(E.Promise.any=w));var A=window.koko_analytics,I=function(t){return t<10?"0"+t:t};const U=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.headers={"X-WP-Nonce":A.nonce,Accepts:"application/json"},e.credentials="same-origin";var n,o,r=A.root+"koko-analytics/v1"+t;if(e.body){if(!e.method||"GET"===e.method){for(var a in r.indexOf("?")<0?r+="?":r+="&",e.body)r+="".concat(window.encodeURIComponent(a),"=").concat(window.encodeURIComponent(e.body[a]),"&");r=r.substring(0,r.length-1),delete e.body}"POST"===e.method&&(e.headers["Content-Type"]="application/json","string"!=typeof e.body&&(e.body=JSON.stringify(e.body)))}return(n=r,o=e,o=o||{},new Promise((function(t,e){var r=new XMLHttpRequest,a=[],i=[],s={},l=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(r.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:l,headers:{keys:function(){return a},entries:function(){return i},get:function(t){return s[t.toLowerCase()]},has:function(t){return t.toLowerCase()in s}}}};for(var u in r.open(o.method||"get",n,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){a.push(e=e.toLowerCase()),i.push([e,n]),s[e]=s[e]?s[e]+","+n:n})),t(l())},r.onerror=e,r.withCredentials="include"==o.credentials,o.headers)r.setRequestHeader(u,o.headers[u]);r.send(o.body||null)}))).then((function(t){if(t.status>=400)throw new Error(t.statusText);return t})).then((function(t){return t.json()}))},F=function(t){return"".concat(t.getFullYear(),"-").concat(I(t.getMonth()+1),"-").concat(I(t.getDate()))};var L=n(825),Y={};Y.styleTagTransform=d(),Y.setAttributes=l(),Y.insert=i().bind(null,"head"),Y.domAPI=r(),Y.insertStyleElement=c(),e()(L.Z,Y),L.Z&&L.Z.locals&&L.Z.locals;var B=1e6,W=/\.0+$/;const H=function(t){var e=0;return t>=B?(t/=B,e=Math.max(0,3-String(Math.round(t)).length),t.toFixed(e).replace(W,"")+"M"):t>=1e4?(t/=1e3,e=Math.max(0,3-String(Math.round(t)).length),t.toFixed(e).replace(W,"")+"K"):String(t)},q=function(t){return t<1&&t>-1&&(t=Math.round(100*t)),t>=0?"+".concat(t,"%"):"".concat(t,"%")},z=function(t){if(t<10)return 10;var e=Math.floor(Math.log10(t)),n=Math.pow(10,e),o=t/n;return Math.ceil(o)*n},V=wp.i18n;function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var Z=[(0,V.__)("January","koko-analytics"),(0,V.__)("February","koko-analytics"),(0,V.__)("March","koko-analytics"),(0,V.__)("April","koko-analytics"),(0,V.__)("May","koko-analytics"),(0,V.__)("June","koko-analytics"),(0,V.__)("July","koko-analytics"),(0,V.__)("August","koko-analytics"),(0,V.__)("September","koko-analytics"),(0,V.__)("October","koko-analytics"),(0,V.__)("November","koko-analytics"),(0,V.__)("December","koko-analytics")],$=[(0,V.__)("Jan","koko-analytics"),(0,V.__)("Feb","koko-analytics"),(0,V.__)("Mar","koko-analytics"),(0,V.__)("Apr","koko-analytics"),(0,V.__)("May","koko-analytics"),(0,V.__)("Jun","koko-analytics"),(0,V.__)("Jul","koko-analytics"),(0,V.__)("Aug","koko-analytics"),(0,V.__)("Sep","koko-analytics"),(0,V.__)("Oct","koko-analytics"),(0,V.__)("Nov","koko-analytics"),(0,V.__)("Dec","koko-analytics")],J=[(0,V.__)("Sunday","koko-analytics"),(0,V.__)("Monday","koko-analytics"),(0,V.__)("Tuesday","koko-analytics"),(0,V.__)("Wednesday","koko-analytics"),(0,V.__)("Thursday","koko-analytics"),(0,V.__)("Friday","koko-analytics"),(0,V.__)("Saturday","koko-analytics")],Q=[(0,V.__)("Sun","koko-analytics"),(0,V.__)("Mon","koko-analytics"),(0,V.__)("Tue","koko-analytics"),(0,V.__)("Wed","koko-analytics"),(0,V.__)("Thr","koko-analytics"),(0,V.__)("Fri","koko-analytics"),(0,V.__)("Sat","koko-analytics")];function G(t){var e=new Date(t.getFullYear(),t.getMonth(),1);return e.setMonth(e.getMonth()+1),e.setDate(0),e.getDate()===t.getDate()}function X(t,e,n){var o="",r=t.getMonth(),a=r+1,i=t.getDay(),s=t.getDate(),l=t.getFullYear();n&&!1===n.day&&(e=e.replace(/[djlwD]/,"")),n&&!1===n.year&&(e=e.replace(/[yY]/,""));for(var u=0,c=(e=e.replace("//","/").replace(/^[-/, ]/,"").replace(/[-/, ]$/,"")).length;u<c;u++)switch(e[u]){case"j":o+=s;break;case"d":o+=s<10?"0"+s:s;break;case"l":o+=J[i];break;case"w":o+=i;break;case"D":o+=Q[i];break;case"m":o+=a<10?"0"+a:a;break;case"n":o+=a;break;case"F":o+=Z[r];break;case"M":o+=$[r];break;case"Y":o+=l;break;case"y":o+=l.toString().slice(-2);break;default:o+=e[u]}return o}function tt(t){var e=t.split("-");if(3!==e.length)return null;var n,o,r=e.map((function(t){return parseInt(t,10)})),a=(o=3,function(t){if(Array.isArray(t))return t}(n=r)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,a,i,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=a.call(n)).done)&&(s.push(o.value),s.length!==e);l=!0);}catch(t){u=!0,r=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw r}}return s}}(n,o)||function(t,e){if(t){if("string"==typeof t)return K(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(t,e):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],s=a[1],l=a[2];return i<1e3&&(i+=2e3),i<2e3||i>3e3||s<1||s>12||l<1||l>31?null:new Date(i,s-1,l)}function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function nt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==et(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==et(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===et(r)?r:String(r)),o)}var r}function ot(t,e){return ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ot(t,e)}function rt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function at(t){return at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},at(t)}var it,st,lt,ut,ct=window.koko_analytics.colors[window.koko_analytics.colors.length-1],ft=(it=ct,-20,st=parseInt(it.substring(1,3),16),lt=parseInt(it.substring(3,5),16),ut=parseInt(it.substring(5,7),16),st=parseInt(80*st/100,10),lt=(lt=parseInt(80*lt/100,10))<255?lt:255,ut=(ut=parseInt(80*ut/100,10))<255?ut:255,"#"+(1===(st=st<255?st:255).toString(16).length?"0"+st.toString(16):st.toString(16))+(1===lt.toString(16).length?"0"+lt.toString(16):lt.toString(16))+(1===ut.toString(16).length?"0"+ut.toString(16):ut.toString(16))),dt=window.koko_analytics.date_format,pt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ot(t,e)}(i,t);var e,n,o,r,a=(o=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=at(o);if(r){var n=at(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rt(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this,t)).state={dataset:[],yMax:0,groupByMonth:!1},e.tooltip=e.createTooltip(),e.showTooltip=e.showTooltip.bind(rt(e)),e.hideTooltip=e.hideTooltip.bind(rt(e)),e.updateChart=e.updateChart.bind(rt(e)),e.loadData=e.loadData.bind(rt(e)),e.autoRefresh=e.autoRefresh.bind(rt(e)),e}return e=i,n=[{key:"componentDidMount",value:function(){document.body.appendChild(this.tooltip),document.addEventListener("click",this.hideTooltip),this.refreshInterval=window.setInterval(this.autoRefresh,6e4),this.updateChart()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideTooltip),window.clearInterval(this.refreshInterval)}},{key:"componentDidUpdate",value:function(t){this.props.startDate.getTime()===t.startDate.getTime()&&this.props.endDate.getTime()===t.endDate.getTime()||this.updateChart()}},{key:"autoRefresh",value:function(){var t=new Date;this.props.startDate<t&&this.props.endDate>t&&this.loadData()}},{key:"updateChart",value:function(){this.tooltip.style.display="none",this.loadData()}},{key:"loadData",value:function(){var t=this,e=this.props,n=e.startDate,o=e.endDate;U("/stats",{body:{start_date:F(n),end_date:F(o)}}).then((function(e){for(var r,a={},i=0,s=1===n.getDate()&&G(o)&&o.getMonth()-n.getMonth()>=2,l=new Date(+n);l<=o;)a[r=F(l)]={date:new Date(l.getTime()),pageviews:0,visitors:0},s?l.setMonth(l.getMonth()+1):l.setDate(l.getDate()+1);for(var u=0;u<e.length;u++){if(r=e[u].date,s){var c=new Date(r);c.setDate(1),r=F(c)}void 0!==a[r]?(a[r].pageviews+=e[u].pageviews,a[r].visitors+=e[u].visitors,a[r].pageviews>i&&(i=a[r].pageviews)):console.error("Unexpected date in response data",r)}var f=Object.values(a).map((function(t){return t.pageviews>0&&(t.visitors=Math.max(1,t.visitors)),t}));t.setState({dataset:f,yMax:i,groupByMonth:s})})).catch((function(){t.setState({dataset:[],yMax:0})}))}},{key:"createTooltip",value:function(){var t=document.createElement("div");return t.className="chart-tooltip",t.style.display="none",t}},{key:"showTooltip",value:function(t,e){var n=this.tooltip,o=this.state.groupByMonth;return function(r){n.innerHTML='\n      <div class="tooltip-inner">\n        <div class="heading">'.concat(X(t.date,dt,{day:!o}),'</div>\n        <div class="content">\n          <div class="visitors" style="border-top-color: ').concat(ft,'">\n            <div class="amount">').concat(t.visitors,"</div>\n            <div>").concat((0,V.__)("Visitors","koko-analytics"),'</div>\n          </div>\n          <div class="pageviews" style="border-top-color: ').concat(ct,'">\n            <div class="amount">').concat(t.pageviews,"</div>\n            <div>").concat((0,V.__)("Pageviews","koko-analytics"),'</div>\n          </div>\n        </div>\n      </div>\n      <div class="tooltip-arrow"></div>');var a=r.currentTarget.getBoundingClientRect();n.style.display="block",n.style.left=a.left+window.scrollX-.5*n.clientWidth+.5*e+"px",n.style.top=a.y+window.scrollY-n.clientHeight+"px"}}},{key:"hideTooltip",value:function(t){"click"===t.type&&"function"==typeof t.target.matches&&t.target.matches(".chart *, .tooltip *")||(this.tooltip.style.display="none")}},{key:"render",value:function(t,e){var n,o=this,r=e.dataset,a=e.yMax,i=e.groupByMonth,s=r.length;if(s<=1)return null;var l=t.width,u=t.height||Math.max(240,Math.min(window.innerHeight/3,window.innerWidth/2,360)),c=48,f=null!==(n=this.__P)&&void 0!==n?n:this.base,d=f&&f.clientWidth>=1280,p=s<=90,h=l-c-24,m=u-36-24,v=Math.round(h/s),b=Math.round(.9*v),g=Math.round((v-b)/2),_=Math.round(.6*b),k=Math.round((b-_)/2),w=function(t){for(var e=z(t),n=Math.round(e/2),o=[],r=0;r<=e;r+=n)o.push(r);return{ticks:o,max:e}}(a),D=m/w.max,x=function(t){return t*v},O=function(t){return w.max>0?Math.round(m-t*D):m};return(0,y.h)("div",{className:"box"},(0,y.h)("div",{className:"chart-container"},(0,y.h)("svg",{className:"chart",width:"100%",height:u},(0,y.h)("g",{className:"axes"},(0,y.h)("g",{className:"axes-y",transform:"translate(0, ".concat(24,")"),"text-anchor":"end"},w.ticks.map((function(t,e){var n=O(t);return(0,y.h)("g",{key:e},(0,y.h)("line",{stroke:"#EEE",x1:c,x2:h+c,y1:n,y2:n}),(0,y.h)("text",{fill:"#757575",x:36,y:n,dy:"0.33em"},H(t)))}))),(0,y.h)("g",{className:"axes-x","text-anchor":"middle",transform:"translate(".concat(c,", ").concat(24+m,")")},r.map((function(t,e){var n=null;if(0===e?n=X(t.date,dt,{day:!i}):e===s-1?n=X(t.date,dt,{day:!i,year:!1}):d&&(s<=7||1===t.date.getDate()||s<=31&&e>=3&&e<s-3&&0===t.date.getDay())&&(n=X(t.date,dt,{year:!1,day:!i})),!p&&!n)return null;var o=x(e)+.5*v;return(0,y.h)("g",{key:t.date.toDateString()},(0,y.h)("line",{stroke:"#DDD",x1:o,x2:o,y1:"0",y2:"6"}),n&&(0,y.h)("text",{fill:"#757575",x:o,y:"10",dy:"1em"},n))})))),(0,y.h)("g",{className:"bars",transform:"translate(".concat(c,", ").concat(24,")")},w.max>0&&r.map((function(t,e){if(0===t.pageviews)return"";var n=Math.round(t.pageviews*D),r=Math.round(t.visitors*D),a=x(e),i=o.showTooltip(t,b);return(0,y.h)("g",{key:t.date.toDateString(),onClick:i,onMouseEnter:i,onMouseLeave:o.hideTooltip},(0,y.h)("rect",{className:"pageviews",height:n,width:b,x:a+g,y:O(t.pageviews),fill:ct}),(0,y.h)("rect",{className:"visitors",height:r,width:_,x:a+g+k,y:O(t.visitors),fill:ft}))}))))))}}],n&&nt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(y.Component);pt.propTypes={startDate:b().instanceOf(Date).isRequired,endDate:b().instanceOf(Date).isRequired,width:b().number.isRequired,height:b().number};var ht=n(319),yt=n.n(ht),mt=n(745),vt={};vt.styleTagTransform=d(),vt.setAttributes=l(),vt.insert=i().bind(null,"head"),vt.domAPI=r(),vt.insertStyleElement=c(),e()(mt.Z,vt),mt.Z&&mt.Z.locals&&mt.Z.locals;var bt=n(637),gt={};function _t(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function wt(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Dt(t){wt(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"===kt(t)&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function xt(t,e){wt(2,arguments);var n=Dt(t),o=_t(e);return isNaN(o)?new Date(NaN):o?(n.setDate(n.getDate()+o),n):n}function Ot(t){wt(1,arguments);var e=Dt(t);return e.setHours(0,0,0,0),e}function St(){return function(t){wt(1,arguments);var e=Dt(t);return e.setHours(23,59,59,999),e}(Date.now())}gt.styleTagTransform=d(),gt.setAttributes=l(),gt.insert=i().bind(null,"head"),gt.domAPI=r(),gt.insertStyleElement=c(),e()(bt.Z,gt),bt.Z&&bt.Z.locals&&bt.Z.locals;var Pt={};function jt(){return Pt}function Tt(t,e){var n,o,r,a,i,s,l,u;wt(1,arguments);var c=jt(),f=_t(null!==(n=null!==(o=null!==(r=null!==(a=null==e?void 0:e.weekStartsOn)&&void 0!==a?a:null==e||null===(i=e.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==r?r:c.weekStartsOn)&&void 0!==o?o:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Dt(t),p=d.getDay(),h=(p<f?7:0)+p-f;return d.setDate(d.getDate()-h),d.setHours(0,0,0,0),d}function Rt(t,e){var n,o,r,a,i,s,l,u;wt(1,arguments);var c=jt(),f=_t(null!==(n=null!==(o=null!==(r=null!==(a=null==e?void 0:e.weekStartsOn)&&void 0!==a?a:null==e||null===(i=e.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==r?r:c.weekStartsOn)&&void 0!==o?o:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Dt(t),p=d.getDay(),h=6+(p<f?-7:0)-(p-f);return d.setDate(d.getDate()+h),d.setHours(23,59,59,999),d}function Mt(t,e){if(wt(2,arguments),!e||"object"!==kt(e))return new Date(NaN);var n=e.years?_t(e.years):0,o=e.months?_t(e.months):0,r=e.weeks?_t(e.weeks):0,a=e.days?_t(e.days):0,i=e.hours?_t(e.hours):0,s=e.minutes?_t(e.minutes):0,l=e.seconds?_t(e.seconds):0,u=function(t,e){return wt(2,arguments),xt(t,-_t(e))}(function(t,e){return wt(2,arguments),function(t,e){wt(2,arguments);var n=Dt(t),o=_t(e);if(isNaN(o))return new Date(NaN);if(!o)return n;var r=n.getDate(),a=new Date(n.getTime());return a.setMonth(n.getMonth()+o+1,0),r>=a.getDate()?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}(t,-_t(e))}(t,o+12*n),a+7*r),c=1e3*(l+60*(s+60*i));return new Date(u.getTime()-c)}function Ct(t){wt(1,arguments);var e=Dt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Nt(t){wt(1,arguments);var e=Dt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Et(t){wt(1,arguments);var e=Dt(t),n=e.getMonth(),o=n-n%3;return e.setMonth(o,1),e.setHours(0,0,0,0),e}function At(t){wt(1,arguments);var e=Dt(t),n=e.getMonth(),o=n-n%3+3;return e.setMonth(o,0),e.setHours(23,59,59,999),e}function It(t){wt(1,arguments);var e=Dt(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Ut(t){wt(1,arguments);var e=Dt(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}var Ft=parseInt(window.koko_analytics.start_of_week,10)||1;const Lt=[{key:"custom",label:(0,V.__)("Custom","koko-analytics")},{key:"today",label:(0,V.__)("Today","koko-analytics"),dates:function(){return{startDate:Ot(Date.now()),endDate:St()}}},{key:"yesterday",label:(0,V.__)("Yesterday","koko-analytics"),dates:function(){var t,e,n,o,r,a=(e=(t=new Date).getFullYear(),n=t.getMonth(),o=t.getDate(),(r=new Date(0)).setFullYear(e,n,o-1),r.setHours(0,0,0,0),r),i=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),o=t.getDate(),r=new Date(0);return r.setFullYear(e,n,o-1),r.setHours(23,59,59,999),r}();return{startDate:a,endDate:i}}},{key:"this_week",label:(0,V.__)("This week","koko-analytics"),dates:function(){var t=new Date;return{startDate:Tt(t,{weekStartsOn:Ft}),endDate:Rt(t,{weekStartsOn:Ft})}}},{key:"last_week",label:(0,V.__)("Last week","koko-analytics"),dates:function(){var t=Mt(new Date,{weeks:1});return{startDate:Tt(t,{weekStartsOn:Ft}),endDate:Rt(t,{weekStartsOn:Ft})}}},{key:"last_28_days",label:(0,V.__)("Last 28 days","koko-analytics"),dates:function(){return{startDate:Ot(Mt(new Date,{days:27})),endDate:St()}}},{key:"this_month",label:(0,V.__)("This month","koko-analytics"),dates:function(){var t=new Date;return{startDate:Ct(t),endDate:Nt(t)}}},{key:"last_month",label:(0,V.__)("Last month","koko-analytics"),dates:function(){var t=Mt(new Date,{months:1});return{startDate:Ct(t),endDate:Nt(t)}}},{key:"this_quarter",label:(0,V.__)("This quarter","koko-analytics"),dates:function(){var t=new Date;return{startDate:Et(t),endDate:At(t)}}},{key:"last_quarter",label:(0,V.__)("Last quarter","koko-analytics"),dates:function(){var t=Mt(Et(new Date),{weeks:1});return{startDate:Et(t),endDate:At(t)}}},{key:"this_year",label:(0,V.__)("This year","koko-analytics"),dates:function(){var t=new Date;return{startDate:It(t),endDate:Ut(t)}}},{key:"last_year",label:(0,V.__)("Last year","koko-analytics"),dates:function(){var t=Mt(new Date,{years:1});return{startDate:It(t),endDate:Ut(t)}}}];function Yt(t){return Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yt(t)}function Bt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bt(Object(n),!0).forEach((function(e){Ht(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ht(t,e,n){return(e=zt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,zt(o.key),o)}}function zt(t){var e=function(t,e){if("object"!==Yt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==Yt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Yt(e)?e:String(e)}function Vt(t,e){return Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vt(t,e)}function Kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zt(t){return Zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zt(t)}var $t=parseInt(window.koko_analytics.start_of_week,10),Jt=window.koko_analytics.settings,Qt=window.koko_analytics.date_format,Gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vt(t,e)}(i,t);var e,n,o,r,a=(o=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Zt(o);if(r){var n=Zt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Yt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Kt(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this,t)).state={open:!1,picking:!1,preset:Jt.default_view,startDate:new Date(t.startDate.getTime()),endDate:new Date(t.endDate.getTime())},e.datepicker=null,e.datepickerContainer=null,e.toggle=e.toggle.bind(Kt(e)),e.maybeClose=e.maybeClose.bind(Kt(e)),e.setPeriod=e.setPeriod.bind(Kt(e)),e.onKeydown=e.onKeydown.bind(Kt(e)),e.setCustomStartDate=e.setCustomStartDate.bind(Kt(e)),e.setCustomEndDate=e.setCustomEndDate.bind(Kt(e)),e}return e=i,n=[{key:"componentDidMount",value:function(){var t=this;document.body.addEventListener("click",this.maybeClose),document.body.addEventListener("keydown",this.onKeydown);var e=this.datepicker=new(yt())({field:document.getElementById("start-date-input"),bound:!1,firstDay:$t,numberOfMonths:window.innerWidth>680?2:1,enableSelectionDaysInNextAndPreviousMonths:!0,showDaysInNextAndPreviousMonths:!0,keyboardInput:!1,onSelect:function(n){var o={picking:!t.state.picking,preset:"custom"};!t.state.picking||null===t.state.startDate||n<t.state.startDate?(n.setHours(0,0,0),o=Wt(Wt({},o),{},{startDate:n,endDate:null}),e.setStartRange(n),e.setEndRange(null)):(n.setHours(23,59,59),o=Wt(Wt({},o),{},{endDate:n}),e.setEndRange(n),t.props.onUpdate(t.state.startDate,n)),t.setState(o),e.draw()},container:this.datepickerContainer});this.datepicker.setStartRange(this.state.startDate),this.datepicker.setEndRange(this.state.endDate),this.datepicker.gotoDate(this.state.endDate)}},{key:"componentWillUnmount",value:function(){this.datepicker.destroy(),document.body.removeEventListener("click",this.maybeClose),document.body.removeEventListener("keydown",this.onKeydown)}},{key:"toggle",value:function(){this.setState({open:!this.state.open})}},{key:"maybeClose",value:function(t){if(this.state.open){for(var e=t.target;null!==e;e=e.parentNode)if("string"==typeof e.className&&(e.className.indexOf("date-picker-ui")>-1||e.className.indexOf("date-label")>-1))return;this.toggle()}}},{key:"setPeriod",value:function(t){if("custom"!==t){var e=Lt.filter((function(e){return e.key===t})).shift();this.setState({preset:e.key});var n=e.dates(),o=n.startDate,r=n.endDate;this.setDates(o,r)}else this.setState({preset:t})}},{key:"setDates",value:function(t,e){this.datepicker.setStartRange(t),this.datepicker.setEndRange(e),this.datepicker.gotoDate(e),this.setState({startDate:t,endDate:e}),this.props.onUpdate(t,e)}},{key:"onKeydown",value:function(t){"ArrowLeft"!==t.key&&"ArrowRight"!==t.key||this.quickNav("ArrowLeft"===t.key?"prev":"next")}},{key:"onQuickNavClick",value:function(t){var e=this;return function(n){n.preventDefault(),e.quickNav(t)}}},{key:"quickNav",value:function(t){var e=this.state,n=e.startDate,o=e.endDate,r=(o.getTime()-n.getTime())/1e3,a=Math.round(r/86400),i="prev"===t?-1:1;if(1===n.getDate()&&G(o)){var s=o.getMonth()-n.getMonth()+1;n=new Date(n.getFullYear(),n.getMonth()+s*i,1,0,0,0),o=new Date(o.getFullYear(),o.getMonth()+s*i+1,0,23,59,59)}else n=xt(n,a*i),o=xt(o,a*i);this.setState({preset:"custom"}),this.setDates(n,o)}},{key:"setCustomStartDate",value:function(t){var e=tt(t.target.value);null!==e&&(e.setHours(0,0,0),this.setDates(e,this.state.endDate))}},{key:"setCustomEndDate",value:function(t){var e=tt(t.target.value);null!==e&&(e.setHours(23,59,59),this.setDates(this.state.startDate,e))}},{key:"render",value:function(t,e){var n=this,o=e.open,r=t.startDate,a=t.endDate;return(0,y.h)("div",{className:"date-nav"},(0,y.h)("div",null,(0,y.h)("div",{className:"date-label",onClick:this.toggle},(0,y.h)("span",{className:"dashicons dashicons-calendar-alt"}),(0,y.h)("span",null,X(r,Qt)),(0,y.h)("span",null," â "),(0,y.h)("span",null,X(a,Qt)))),(0,y.h)("div",{className:"date-picker-ui",style:{display:o?"":"none"}},(0,y.h)("div",{className:"date-quicknav cf"},(0,y.h)("span",{onClick:this.onQuickNavClick("prev"),className:"prev dashicons dashicons-arrow-left",title:(0,V.__)("Previous","koko-analytics")}),(0,y.h)("span",{className:"date"},(0,y.h)("span",null,X(r,Qt)),(0,y.h)("span",null," â "),(0,y.h)("span",null,X(a,Qt))),(0,y.h)("span",{onClick:this.onQuickNavClick("next"),className:"next dashicons dashicons-arrow-right",title:(0,V.__)("Next","koko-analytics")})),(0,y.h)("div",{className:"flex"},(0,y.h)("div",{className:"date-presets"},(0,y.h)("div",null,(0,y.h)("label",{for:"ka-date-presets"},(0,V.__)("Date range","koko-analytics")),(0,y.h)("select",{id:"ka-date-presets",onChange:function(t){n.setPeriod(t.target.value)}},Lt.map((function(t){return(0,y.h)("option",{key:t.key,value:t.key,selected:e.preset===t.key},t.label)})))),(0,y.h)("div",null,(0,y.h)("label",null,(0,V.__)("Custom","koko-analytics")),(0,y.h)("input",{type:"text",value:X(r,"Y-m-d"),size:"10",onChange:this.setCustomStartDate,disabled:"custom"!==e.preset,placeholder:"YYYY-MM-DD",maxlength:"10",minlength:"6"}),(0,y.h)("span",null," - "),(0,y.h)("input",{type:"text",value:X(a,"Y-m-d"),size:"10",onChange:this.setCustomEndDate,disabled:"custom"!==e.preset,placeholder:"YYYY-MM-DD",maxlength:"10",minlength:"6"}))),(0,y.h)("div",{className:"date-picker"},(0,y.h)("div",{ref:function(t){n.datepickerContainer=t}})))),(0,y.h)("input",{type:"hidden",id:"start-date-input"}))}}],n&&qt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(y.Component);Gt.propTypes={startDate:b().instanceOf(Date).isRequired,endDate:b().instanceOf(Date).isRequired,onUpdate:b().func.isRequired};var Xt=n(26),te={};function ee(t){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(t)}function ne(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==ee(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==ee(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===ee(r)?r:String(r)),o)}var r}function oe(t,e){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oe(t,e)}function re(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ae(t){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ae(t)}te.styleTagTransform=d(),te.setAttributes=l(),te.insert=i().bind(null,"head"),te.domAPI=r(),te.insertStyleElement=c(),e()(Xt.Z,te),Xt.Z&&Xt.Z.locals&&Xt.Z.locals;var ie=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oe(t,e)}(i,t);var e,n,o,r,a=(o=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ae(o);if(r){var n=ae(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ee(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return re(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this,t)).state={pageviews:0},e.loadData=e.loadData.bind(re(e)),e}return e=i,(n=[{key:"componentDidMount",value:function(){this.loadData(),this.refreshInterval=window.setInterval(this.loadData,6e4)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.refreshInterval)}},{key:"loadData",value:function(){var t=this;U("/realtime",{body:{since:"-1 hour"}}).then((function(e){t.setState({pageviews:e})}))}},{key:"render",value:function(t,e){var n=e.pageviews;return(0,y.h)("div",{className:"totals-box koko-fade",key:"realtime-pageviews"},(0,y.h)("div",{className:"totals-label"},(0,V.__)("Realtime pageviews","koko-analytics")),(0,y.h)("div",{className:"totals-amount"},H(n)),(0,y.h)("div",{className:"totals-compare"},(0,y.h)("span",null,(0,y.h)("span",null,(0,V.__)("pageviews in the last hour","koko-analytics")))))}}])&&ne(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(y.Component);function se(t){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},se(t)}function le(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==se(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==se(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===se(r)?r:String(r)),o)}var r}function ue(t,e){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ue(t,e)}function ce(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fe(t){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fe(t)}var de=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ue(t,e)}(i,t);var e,n,o,r,a=(o=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fe(o);if(r){var n=fe(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ce(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this,t)).state={visitors:0,visitorsChange:0,visitorsDiff:0,visitorsPrevious:0,pageviews:0,pageviewsChange:0,pageviewsDiff:0,pageviewsPrevious:0,hash:"initial"},e.loadData=e.loadData.bind(ce(e)),e.autoRefresh=e.autoRefresh.bind(ce(e)),e}return e=i,n=[{key:"componentDidMount",value:function(){this.loadData(),this.refreshInterval=window.setInterval(this.autoRefresh,6e4)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.refreshInterval)}},{key:"componentDidUpdate",value:function(t){this.props.startDate.getTime()===t.startDate.getTime()&&this.props.endDate.getTime()===t.endDate.getTime()||this.loadData()}},{key:"autoRefresh",value:function(){var t=new Date;this.props.startDate<t&&this.props.endDate>t&&this.loadData()}},{key:"loadData",value:function(){var t=this,e=this.props,n=e.startDate,o=e.endDate,r=o.getTime()-n.getTime()+1,a=new Date(n.getTime()-r),i=new Date(o.getTime()-r),s=0,l=0,u=0,c=0,f=0,d=0,p=0,h=0;Promise.all([U("/stats",{body:{start_date:F(this.props.startDate),end_date:F(this.props.endDate)}}).then((function(t){t.forEach((function(t){s+=t.visitors,l+=t.pageviews}))})),U("/stats",{body:{start_date:F(a),end_date:F(i)}}).then((function(t){t.forEach((function(t){p+=t.visitors,h+=t.pageviews}))}))]).then((function(){0===s&&l>0&&(s=1),0===p&&h>0&&(p=1),p>0&&(f=s-p,u=Math.round(100*(s/p-1))),h>0&&(d=l-h,c=Math.round(100*(l/h-1)));var e=F(t.props.startDate)+"-"+F(t.props.endDate);t.setState({visitors:s,visitorsPrevious:p,visitorsDiff:f,visitorsChange:u,pageviews:l,pageviewsPrevious:h,pageviewsDiff:d,pageviewsChange:c,hash:e})}))}},{key:"render",value:function(){var t=this.state,e=t.visitors,n=t.visitorsDiff,o=t.visitorsChange,r=t.pageviews,a=t.pageviewsDiff,i=t.pageviewsChange,s=t.hash;return(0,y.h)("div",{className:"totals-container"},(0,y.h)("div",{className:"totals-box koko-fade",key:s+"-visitors"},(0,y.h)("div",{className:"totals-label"},(0,V.__)("Total visitors","koko-analytics")),(0,y.h)("div",{className:"totals-amount"},H(e)," ",(0,y.h)("span",{className:o>0?"up":0===o?"neutral":"down"},q(o))),(0,y.h)("div",{className:"totals-compare"},(0,y.h)("span",null,H(Math.abs(n))," ",n>0?(0,V.__)("more than previous period","koko-analytics"):(0,V.__)("less than previous period","koko-analytics")))),(0,y.h)("div",{className:"totals-box koko-fade",key:s+"-pageviews"},(0,y.h)("div",{className:"totals-label"},(0,V.__)("Total pageviews","koko-analytics")),(0,y.h)("div",{className:"totals-amount"},H(r)," ",(0,y.h)("span",{className:i>0?"up":0===i?"neutral":"down"},q(i))),(0,y.h)("div",{className:"totals-compare"},(0,y.h)("span",null,H(Math.abs(a))," ",a>0?(0,V.__)("more than previous period","koko-analytics"):(0,V.__)("less than previous period","koko-analytics")))),(0,y.h)(ie,null))}}],n&&le(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(y.Component);function pe(t){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pe(t)}function he(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==pe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==pe(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===pe(r)?r:String(r)),o)}var r}function ye(t,e){return ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ye(t,e)}function me(t){return me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},me(t)}de.propTypes={startDate:b().instanceOf(Date).isRequired,endDate:b().instanceOf(Date).isRequired};var ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ye(t,e)}(i,t);var e,n,o,r,a=(o=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=me(o);if(r){var n=me(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===pe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return e=i,(n=[{key:"handleClick",value:function(t){var e=this,n=this.props,o=n.offset,r=n.limit,a=n.total;return function(){if(!("prev"===t&&0===o||"next"===t&&a<r)){var n="prev"===t?-1:1,i=Math.max(0,o+r*n);e.props.onUpdate(i)}}}},{key:"render",value:function(t){var e=t.offset,n=t.limit,o=t.total;return(0,y.h)("div",{className:"pagination"},(0,y.h)("span",{className:"prev "+(0===e?"disabled":""),title:(0,V.__)("Previous","koko-analytics"),onClick:this.handleClick("prev")},(0,y.h)("span",{className:"dashicons dashicons-arrow-left"})),(0,y.h)("span",{className:"next "+(o<n?"disabled":""),title:(0,V.__)("Next","koko-analytics"),onClick:this.handleClick("next")},(0,y.h)("span",{className:"dashicons dashicons-arrow-right"})))}}])&&he(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(y.Component);function be(t){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},be(t)}function ge(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==be(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==be(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===be(r)?r:String(r)),o)}var r}function _e(t,e){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_e(t,e)}function ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function we(t){return we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},we(t)}ve.propTypes={offset:b().number.isRequired,limit:b().number.isRequired,total:b().number.isRequired,onUpdate:b().func.isRequired};var De=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_e(t,e)}(i,t);var e,n,o,r,a=(o=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=we(o);if(r){var n=we(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===be(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ke(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this,t)).state={offset:0,limit:25,items:[]},e.loadData=e.loadData.bind(ke(e)),e.autoRefresh=e.autoRefresh.bind(ke(e)),e}return e=i,n=[{key:"componentDidMount",value:function(){this.loadData(),this.refreshInterval=window.setInterval(this.autoRefresh,6e4)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.refreshInterval)}},{key:"componentDidUpdate",value:function(t){this.props.startDate.getTime()===t.startDate.getTime()&&this.props.endDate.getTime()===t.endDate.getTime()||this.loadData()}},{key:"autoRefresh",value:function(){var t=new Date;this.props.startDate<t&&this.props.endDate>t&&this.loadData()}},{key:"loadData",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.offset;U("/posts",{body:{start_date:F(this.props.startDate),end_date:F(this.props.endDate),offset:e,limit:this.state.limit}}).then((function(n){t.setState({items:n,offset:e})}))}},{key:"render",value:function(){var t=this.state,e=t.offset,n=t.limit,o=t.items;return(0,y.h)("div",{className:"box koko-fade top-posts"},(0,y.h)("div",{className:"head box-grid"},(0,y.h)("div",{className:""},(0,y.h)("span",{className:"muted"},"#"),(0,V.__)("Pages","koko-analytics"),(0,y.h)(ve,{offset:e,limit:n,total:o.length,onUpdate:this.loadData})),(0,y.h)("div",{className:"amount-col",title:(0,V.__)("A visitor represents the number of sessions during which a page was viewed one or more times.","koko-analytics")},(0,V.__)("Visitors","koko-analytics")),(0,y.h)("div",{className:"amount-col",title:(0,V.__)("A pageview is defined as a view of a page on your site. If a user clicks reload after reaching the page, this is counted as an additional pageview. If a visitor navigates to a different page and then returns to the original page, a second pageview is recorded as well.","koko-analytics")},(0,V.__)("Pageviews","koko-analytics"))),(0,y.h)("div",{className:"body"},o.map((function(t,n){return(0,y.h)("div",{key:t.id,className:"box-grid koko-fade"},(0,y.h)("div",null,(0,y.h)("span",{className:"muted"},e+n+1),(0,y.h)("a",{href:t.post_permalink},t.post_title||"(no title)")),(0,y.h)("div",{className:"amount-col"},Math.max(1,t.visitors)),(0,y.h)("div",{className:"amount-col"},t.pageviews))})),0===o.length&&(0,y.h)("div",{className:"box-grid"},(0,V.__)("There's nothing here, yet!","koko-analytics"))))}}],n&&ge(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(y.Component);function xe(t){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe(t)}function Oe(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==xe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==xe(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===xe(r)?r:String(r)),o)}var r}function Se(t,e){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Se(t,e)}function Pe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function je(t){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},je(t)}De.propTypes={startDate:b().instanceOf(Date).isRequired,endDate:b().instanceOf(Date).isRequired};var Te=/^https?:\/\/(www\.)?(.+?)\/?$/;function Re(t){return t.displayUrl=t.url.replace(Te,"$2"),0===t.url.indexOf("https://t.co/")?t.url="https://twitter.com/search?q="+encodeURI(t.url):0===t.url.indexOf("android-app://")&&(t.displayUrl=t.url.replace("android-app://","Android app: "),t.url=t.url.replace("android-app://","https://play.google.com/store/apps/details?id=")),t}var Me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Se(t,e)}(i,t);var e,n,o,r,a=(o=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=je(o);if(r){var n=je(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===xe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Pe(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this,t)).state={offset:0,limit:25,items:[]},e.loadData=e.loadData.bind(Pe(e)),e.autoRefresh=e.autoRefresh.bind(Pe(e)),e}return e=i,n=[{key:"componentDidMount",value:function(){this.loadData(),this.refreshInterval=window.setInterval(this.autoRefresh,6e4)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.refreshInterval)}},{key:"componentDidUpdate",value:function(t){this.props.startDate.getTime()===t.startDate.getTime()&&this.props.endDate.getTime()===t.endDate.getTime()||this.loadData()}},{key:"autoRefresh",value:function(){var t=new Date;this.props.startDate<t&&this.props.endDate>t&&this.loadData()}},{key:"loadData",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.offset;U("/referrers",{body:{start_date:F(this.props.startDate),end_date:F(this.props.endDate),offset:e,limit:this.state.limit}}).then((function(n){n=n.map(Re),t.setState({items:n,offset:e})}))}},{key:"render",value:function(){var t=this.state,e=t.offset,n=t.limit,o=t.items;return(0,y.h)("div",{className:"box koko-fade top-referrers"},(0,y.h)("div",{className:"box-grid head"},(0,y.h)("div",{className:""},(0,y.h)("span",{className:"muted"},"#"),(0,V.__)("Referrers","koko-analytics"),(0,y.h)(ve,{offset:e,limit:n,total:o.length,onUpdate:this.loadData})),(0,y.h)("div",{className:"amount-col"},(0,V.__)("Visitors","koko-analytics")),(0,y.h)("div",{className:"amount-col"},(0,V.__)("Pageviews","koko-analytics"))),(0,y.h)("div",{className:"body"},o.map((function(t,n){return(0,y.h)("div",{key:t.id,className:"box-grid koko-fade"},(0,y.h)("div",{className:"url-col"},(0,y.h)("span",{className:"muted"},e+n+1),t.url.length?(0,y.h)("a",{href:t.url},t.displayUrl):t.displayUrl),(0,y.h)("div",{className:"amount-col"},Math.max(t.visitors,1)),(0,y.h)("div",{className:"amount-col"},t.pageviews))})),0===o.length&&(0,y.h)("div",{className:"box-grid"},(0,V.__)("There's nothing here, yet!","koko-analytics"))))}}],n&&Oe(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(y.Component);Me.propTypes={startDate:b().instanceOf(Date).isRequired,endDate:b().instanceOf(Date).isRequired};var Ce=n(232);function Ne(){return window.koko_analytics.showSettings?(0,y.h)("div",{className:"two nav"},(0,y.h)("ul",{className:"subsubsub"},(0,y.h)("li",null,(0,y.h)(Ce.rU,{href:"/",exact:!0,activeClassName:"current"},(0,V.__)("Stats","koko-analytics"))," | "),(0,y.h)("li",null,(0,y.h)(Ce.rU,{href:"/settings",activeClassName:"current"},(0,V.__)("Settings","koko-analytics"))))):null}function Ee(t){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ee(t)}function Ae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ie(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ae(Object(n),!0).forEach((function(e){Ue(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ue(t,e,n){return(e=Le(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fe(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,Le(o.key),o)}}function Le(t){var e=function(t,e){if("object"!==Ee(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==Ee(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ee(e)?e:String(e)}function Ye(t,e){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ye(t,e)}function Be(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function We(t){return We=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},We(t)}var He=window.koko_analytics.settings,qe=function(t){return t<10?"0"+t:t},ze=function(t){return"".concat(t.getFullYear(),"-").concat(qe(t.getMonth()+1),"-").concat(qe(t.getDate()))},Ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ye(t,e)}(i,t);var e,n,o,r,a=(o=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=We(o);if(r){var n=We(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ee(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Be(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this,t)).state=Ie(Ie({},e.setDatesFromDefaultView()),e.parseStateFromLocation(window.location.hash)),e.setDates=e.setDates.bind(Be(e)),e}return e=i,n=[{key:"componentDidMount",value:function(){var t=this;this.unlisten=this.props.history.listen((function(e,n){"POP"===n&&t.setState(t.parseStateFromLocation(e.search))}))}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"setDatesFromDefaultView",value:function(){var t=Lt.filter((function(t){return t.key===He.default_view})).shift()||Lt[5];return"function"==typeof t.dates?t.dates():{}}},{key:"parseStateFromLocation",value:function(t){var e=t.indexOf("?");if(-1===e)return{};var n=function(t){for(var e,n={},o=t.split("&"),r=0;r<o.length;r++)n[(e=o[r].split("="))[0]]=decodeURIComponent(e[1]);return n}(t.substring(e+1));if(!n.start_date||!n.end_date)return{};var o=tt(n.start_date),r=tt(n.end_date);return o&&r?(o.setHours(0,0,0),r.setHours(23,59,59),{startDate:o,endDate:r}):{}}},{key:"setDates",value:function(t,e){t.getTime()!==e.getTime()&&(this.setState({startDate:t,endDate:e}),t=ze(t),e=ze(e),this.props.history.push("/?start_date=".concat(t,"&end_date=").concat(e)))}},{key:"render",value:function(t,e){var n=e.startDate,o=e.endDate;return(0,y.h)("main",null,(0,y.h)("div",null,(0,y.h)("div",{className:"grid"},(0,y.h)("div",{className:"four"},(0,y.h)(Gt,{startDate:n,endDate:o,onUpdate:this.setDates})),(0,y.h)(Ne,null)),(0,y.h)(de,{startDate:n,endDate:o}),(0,y.h)(pt,{startDate:n,endDate:o,width:document.getElementById("koko-analytics-mount").clientWidth}),(0,y.h)("div",{className:"grid"},(0,y.h)(De,{startDate:n,endDate:o}),(0,y.h)(Me,{startDate:n,endDate:o})),(0,y.h)("div",null,(0,y.h)("span",{className:"description right"},(0,V.__)("Tip: use the arrow keys to quickly cycle through date ranges.","koko-analytics")))))}}],n&&Fe(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(y.Component);function Ke(t){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ke(t)}function Ze(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==Ke(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==Ke(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===Ke(r)?r:String(r)),o)}var r}function $e(t,e){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$e(t,e)}function Je(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qe(t){return Qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qe(t)}Ve.propTypes={history:b().object.isRequired};var Ge=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$e(t,e)}(i,t);var e,n,o,r,a=(o=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qe(o);if(r){var n=Qe(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ke(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Je(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this,t)).state={saving:!1,buttonText:(0,V.__)("Reset Statistics","koko-analytics")},e.onClick=e.onClick.bind(Je(e)),e}return e=i,(n=[{key:"onClick",value:function(t){var e=this;!0===window.confirm((0,V.__)("Are you sure you want to reset all of your statistics? This can not be undone.","koko-analytics"))&&(t.preventDefault(),this.setState({saving:!0,buttonText:(0,V.__)("Resetting - please wait","koko-analytics")}),U("/reset",{method:"POST",body:{}}).then((function(){e.setState({buttonText:(0,V.__)("Done!","koko-analytics")+" "+(0,V.__)("Page will reload in a few seconds.","koko-analytics")}),window.setTimeout((function(){window.location.reload()}),4e3)})).finally((function(){window.setTimeout((function(){e.setState({saving:!1,buttonText:(0,V.__)("Reset Statistics","koko-analytics")})}),4e3)})))}},{key:"render",value:function(t,e){var n=e.saving,o=e.buttonText;return(0,y.h)("button",{type:"button",className:"button button-primary",onClick:this.onClick,disabled:n},o)}}])&&Ze(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(y.Component);function Xe(t){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xe(t)}function tn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==Xe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==Xe(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===Xe(r)?r:String(r)),o)}var r}function en(t,e){return en=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},en(t,e)}function nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function on(t){return on=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},on(t)}var rn,an=window.koko_analytics,sn=window.koko_analytics.user_roles,ln=window.koko_analytics.settings,un=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&en(t,e)}(i,t);var e,n,o,r,a=(o=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=on(o);if(r){var n=on(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Xe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return nn(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this,t)).state={settings:ln,saving:!1,buttonText:(0,V.__)("Save Changes","koko-analytics")},e.onSubmit=e.onSubmit.bind(nn(e)),e}return e=i,n=[{key:"onSubmit",value:function(t){var e=this;t.preventDefault(),this.setState({saving:!0,buttonText:(0,V.__)("Saving - please wait","koko-analytics")});var n=new Date;U("/settings",{method:"POST",body:ln}).then((function(){window.setTimeout((function(){e.setState({buttonText:(0,V.__)("Saved!","koko-analytics")})}),Math.max(20,400-(+new Date-n)))})).finally((function(){window.setTimeout((function(){e.setState({buttonText:(0,V.__)("Save Changes","koko-analytics"),saving:!1})}),4e3)}))}},{key:"handleRadioClick",value:function(t){var e=this;return function(n){ln[t]=parseInt(n.target.value,10),e.setState({settings:ln})}}},{key:"render",value:function(t,e){var n=this,o=e.saving,r=e.buttonText,a=e.settings;return(0,y.h)("main",null,(0,y.h)("div",{className:"grid"},(0,y.h)("div",{className:"four"},(0,y.h)("h1",null,(0,V.__)("Settings","koko-analytics")),(0,y.h)("form",{method:"POST",onSubmit:this.onSubmit},(0,y.h)("div",{className:"input-group"},(0,y.h)("label",null,(0,V.__)("Exclude pageviews from these user roles","koko-analytics")),(0,y.h)("select",{name:"exclude_user_roles[]",multiple:!0,onChange:function(t){a.exclude_user_roles=[].filter.call(t.target.options,(function(t){return t.selected})).map((function(t){return t.value})),n.setState({settings:a})}},Object.keys(sn).map((function(t){return(0,y.h)("option",{key:t,value:t,selected:a.exclude_user_roles.indexOf(t)>-1},sn[t])}))),(0,y.h)("p",{className:"help"},(0,V.__)("Visits and pageviews from users with any of the selected roles will be ignored.","koko-analytics")," ",(0,V.__)("Use CTRL to select multiple options.","koko-analytics"))),(0,y.h)("div",{className:"input-group"},(0,y.h)("label",null,(0,V.__)("Use cookie to determine unique visitors and pageviews?","koko-analytics")),(0,y.h)("label",{className:"cb"},(0,y.h)("input",{type:"radio",name:"use_cookie",value:1,onChange:this.handleRadioClick("use_cookie"),checked:1===a.use_cookie})," ",(0,V.__)("Yes","koko-analytics")),(0,y.h)("label",{className:"cb"},(0,y.h)("input",{type:"radio",name:"use_cookie",value:0,onChange:this.handleRadioClick("use_cookie"),checked:0===a.use_cookie})," ",(0,V.__)("No","koko-analytics")),(0,y.h)("p",{className:"help"},(0,V.__)('Set to "no" if you do not want to use a cookie. Without the use of a cookie, Koko Analytics can not reliably detect returning visitors.',"koko-analytics"))),(0,y.h)("div",{className:"input-group"},(0,y.h)("label",null,(0,V.__)("Default date period","koko-analytics")),(0,y.h)("select",{name:"default_view",onChange:function(t){a.default_view=t.target.value,n.setState({settings:a})}},Lt.map((function(t){return(0,y.h)("option",{value:t.key,key:t.key,selected:a.default_view===t.key},t.label)}))),(0,y.h)("p",{className:"help"},(0,V.__)("The default date period to show when opening the analytics dashboard.","koko-analytics"))),(0,y.h)("div",{className:"input-group"},(0,y.h)("label",null,(0,V.__)("Automatically delete data older than how many months?","koko-analytics")),(0,y.h)("input",{type:"number",value:a.prune_data_after_months,onChange:function(t){a.prune_data_after_months=parseInt(t.target.value,10),n.setState({settings:a})},step:1,min:0,max:600})," ",(0,V.__)("months","koko-analytics"),(0,y.h)("p",{className:"help"},(0,V.__)("Statistics older than the number of months configured here will automatically be deleted. Set to 0 to disable.","koko-analytics"))),(0,y.h)("div",{className:"input-group"},(0,y.h)("p",null,(0,y.h)("button",{type:"submit",className:"button button-primary",disabled:o},r)))),(0,y.h)("div",{className:"margin-m",style:"display: ".concat(an.multisite?"none":"")},(0,y.h)("h2",null,(0,V.__)("Performance","koko-analytics")),an.custom_endpoint.enabled?(0,y.h)("p",null,"â ",(0,V.__)("The plugin is currently using an optimized tracking endpoint. Great!","koko-analytics")):(0,y.h)("div",null,(0,y.h)("p",{dangerouslySetInnerHTML:{__html:"â "+(0,V.__)("The plugin is currently not using an optimized tracking endpoint. To address, create a file named %1s in your WordPress root directory with the following file contents:","koko-analytics").replace("%1s","<strong>koko-analytics-collect.php</strong>")}}," "),(0,y.h)("p",null,(0,y.h)("strong",null,(0,V.__)("Filename:","koko-analytics")," ")," ",(0,y.h)("em",null,an.custom_endpoint.wp_root_dir,"/koko-analytics-collect.php")),(0,y.h)("pre",{className:"code",onClick:function(t){var e=new Range;e.setStart(t.target,0),e.setEnd(t.target,1),document.getSelection().removeAllRanges(),document.getSelection().addRange(e)}},an.custom_endpoint.file_contents),(0,y.h)("p",null,(0,V.__)("Please note that this is entirely optional and only recommended for high-traffic websites.","koko-analytics")))),(0,y.h)("div",{className:"margin-m"},(0,y.h)("h2",null,(0,V.__)("Data","koko-analytics")),(0,y.h)("p",null,(0,V.__)("Database size:","koko-analytics")," ",an.dbSize," MB"),(0,y.h)("div",{className:"input-group"},(0,y.h)("p",null,(0,V.__)("Use the button below to erase all of your current analytics data. You may have to clear your browser's cache afterwards for the effect to be evident.","koko-analytics")),(0,y.h)("p",null,(0,y.h)(Ge,null))))),(0,y.h)(Ne,null)))}}],n&&tn(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(y.Component);function cn(){return cn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},cn.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(rn||(rn={}));var fn="beforeunload";function dn(t){t.preventDefault(),t.returnValue=""}function pn(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter((function(t){return t!==e}))}},call:function(e){t.forEach((function(t){return t&&t(e)}))}}}function hn(t){var e=t.pathname,n=void 0===e?"/":e,o=t.search,r=void 0===o?"":o,a=t.hash,i=void 0===a?"":a;return r&&"?"!==r&&(n+="?"===r.charAt(0)?r:"?"+r),i&&"#"!==i&&(n+="#"===i.charAt(0)?i:"#"+i),n}function yn(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var o=t.indexOf("?");o>=0&&(e.search=t.substr(o),t=t.substr(0,o)),t&&(e.pathname=t)}return e}var mn=function(t){void 0===t&&(t={});var e=t.window,n=void 0===e?document.defaultView:e,o=n.history;function r(){var t=yn(n.location.hash.substr(1)),e=t.pathname,r=void 0===e?"/":e,a=t.search,i=void 0===a?"":a,s=t.hash,l=void 0===s?"":s,u=o.state||{};return[u.idx,{pathname:r,search:i,hash:l,state:u.usr||null,key:u.key||"default"}]}var a=null;function i(){if(a)d.call(a),a=null;else{var t=rn.Pop,e=r(),n=e[0],o=e[1];if(d.length){if(null!=n){var i=u-n;i&&(a={action:t,location:o,retry:function(){b(-1*i)}},b(i))}}else v(t)}}n.addEventListener("popstate",i),n.addEventListener("hashchange",(function(){hn(r()[1])!==hn(c)&&i()}));var s=rn.Pop,l=r(),u=l[0],c=l[1],f=pn(),d=pn();function p(t){return function(){var t=document.querySelector("base"),e="";if(t&&t.getAttribute("href")){var o=n.location.href,r=o.indexOf("#");e=-1===r?o:o.slice(0,r)}return e}()+"#"+("string"==typeof t?t:hn(t))}function h(t,e){return void 0===e&&(e=null),cn({pathname:c.pathname,hash:"",search:""},"string"==typeof t?yn(t):t,{state:e,key:Math.random().toString(36).substr(2,8)})}function y(t,e){return[{usr:t.state,key:t.key,idx:e},p(t)]}function m(t,e,n){return!d.length||(d.call({action:t,location:e,retry:n}),!1)}function v(t){s=t;var e=r();u=e[0],c=e[1],f.call({action:s,location:c})}function b(t){o.go(t)}return null==u&&(u=0,o.replaceState(cn({},o.state,{idx:u}),"")),{get action(){return s},get location(){return c},createHref:p,push:function t(e,r){var a=rn.Push,i=h(e,r);if(m(a,i,(function(){t(e,r)}))){var s=y(i,u+1),l=s[0],c=s[1];try{o.pushState(l,"",c)}catch(t){n.location.assign(c)}v(a)}},replace:function t(e,n){var r=rn.Replace,a=h(e,n);if(m(r,a,(function(){t(e,n)}))){var i=y(a,u),s=i[0],l=i[1];o.replaceState(s,"",l),v(r)}},go:b,back:function(){b(-1)},forward:function(){b(1)},listen:function(t){return f.push(t)},block:function(t){var e=d.push(t);return 1===d.length&&n.addEventListener(fn,dn),function(){e(),d.length||n.removeEventListener(fn,dn)}}}}();(0,y.render)((0,y.h)((function(){return(0,y.h)(m.default,{history:mn},(0,y.h)(Ve,{path:"/",history:mn}),(0,y.h)(un,{path:"/settings"}))}),null),document.getElementById("koko-analytics-mount"))})()})();